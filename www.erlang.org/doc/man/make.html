<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- make</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../../../doc/js/erlresolvelinks.js"></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small>
<a href="../apps/tools/users_guide.html">User's Guide</a><br>
<a href="../apps/tools/index.html">Reference Manual</a><br>
<a href="../apps/tools/release_notes.html">Release Notes</a><br>
<a href="../apps/tools/tools.pdf">PDF</a><br>
<a href="../index.html">Top</a></small><p><strong>Tools</strong><br><strong>Reference Manual</strong><br><small>Version 2.6.5</small></p>
<br>
<a href="javascript:openAllFlips()">Expand All</a><br>
<a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li title="cover " expanded="false">cover<ul>
<li>
<a href="cover.html">
                  Top of manual page
                </a></li>
<li title="start-0">
<a href="cover.html#start-0">start/0</a></li>
<li title="start-1">
<a href="cover.html#start-1">start/1</a></li>
<li title="compile-1">
<a href="cover.html#compile-1">compile/1</a></li>
<li title="compile-2">
<a href="cover.html#compile-2">compile/2</a></li>
<li title="compile_module-1">
<a href="cover.html#compile_module-1">compile_module/1</a></li>
<li title="compile_module-2">
<a href="cover.html#compile_module-2">compile_module/2</a></li>
<li title="compile_directory-0">
<a href="cover.html#compile_directory-0">compile_directory/0</a></li>
<li title="compile_directory-1">
<a href="cover.html#compile_directory-1">compile_directory/1</a></li>
<li title="compile_directory-2">
<a href="cover.html#compile_directory-2">compile_directory/2</a></li>
<li title="compile_beam-1">
<a href="cover.html#compile_beam-1">compile_beam/1</a></li>
<li title="compile_beam_directory-0">
<a href="cover.html#compile_beam_directory-0">compile_beam_directory/0</a></li>
<li title="compile_beam_directory-1">
<a href="cover.html#compile_beam_directory-1">compile_beam_directory/1</a></li>
<li title="analyse-1">
<a href="cover.html#analyse-1">analyse/1</a></li>
<li title="analyse-2">
<a href="cover.html#analyse-2">analyse/2</a></li>
<li title="analyse-2">
<a href="cover.html#analyse-2">analyse/2</a></li>
<li title="analyse-3">
<a href="cover.html#analyse-3">analyse/3</a></li>
<li title="analyse_to_file-1">
<a href="cover.html#analyse_to_file-1">analyse_to_file/1</a></li>
<li title="analyse_to_file-2">
<a href="cover.html#analyse_to_file-2">analyse_to_file/2</a></li>
<li title="analyse_to_file-2">
<a href="cover.html#analyse_to_file-2">analyse_to_file/2</a></li>
<li title="analyse_to_file-3">
<a href="cover.html#analyse_to_file-3">analyse_to_file/3</a></li>
<li title="modules-0">
<a href="cover.html#modules-0">modules/0</a></li>
<li title="imported_modules-0">
<a href="cover.html#imported_modules-0">imported_modules/0</a></li>
<li title="imported-0">
<a href="cover.html#imported-0">imported/0</a></li>
<li title="which_nodes-0">
<a href="cover.html#which_nodes-0">which_nodes/0</a></li>
<li title="is_compiled-1">
<a href="cover.html#is_compiled-1">is_compiled/1</a></li>
<li title="reset-1">
<a href="cover.html#reset-1">reset/1</a></li>
<li title="reset-0">
<a href="cover.html#reset-0">reset/0</a></li>
<li title="export-1">
<a href="cover.html#export-1">export/1</a></li>
<li title="export-2">
<a href="cover.html#export-2">export/2</a></li>
<li title="import-1">
<a href="cover.html#import-1">import/1</a></li>
<li title="stop-0">
<a href="cover.html#stop-0">stop/0</a></li>
<li title="stop-1">
<a href="cover.html#stop-1">stop/1</a></li>
</ul>
</li>
<li title="cprof " expanded="false">cprof<ul>
<li>
<a href="cprof.html">
                  Top of manual page
                </a></li>
<li title="analyse-0">
<a href="cprof.html#analyse-0">analyse/0</a></li>
<li title="analyse-1">
<a href="cprof.html#analyse-1">analyse/1</a></li>
<li title="analyse-1">
<a href="cprof.html#analyse-1">analyse/1</a></li>
<li title="analyse-2">
<a href="cprof.html#analyse-2">analyse/2</a></li>
<li title="pause-0">
<a href="cprof.html#pause-0">pause/0</a></li>
<li title="pause-1">
<a href="cprof.html#pause-1">pause/1</a></li>
<li title="pause-2">
<a href="cprof.html#pause-2">pause/2</a></li>
<li title="pause-3">
<a href="cprof.html#pause-3">pause/3</a></li>
<li title="restart-0">
<a href="cprof.html#restart-0">restart/0</a></li>
<li title="restart-1">
<a href="cprof.html#restart-1">restart/1</a></li>
<li title="restart-2">
<a href="cprof.html#restart-2">restart/2</a></li>
<li title="restart-3">
<a href="cprof.html#restart-3">restart/3</a></li>
<li title="start-0">
<a href="cprof.html#start-0">start/0</a></li>
<li title="start-1">
<a href="cprof.html#start-1">start/1</a></li>
<li title="start-2">
<a href="cprof.html#start-2">start/2</a></li>
<li title="start-3">
<a href="cprof.html#start-3">start/3</a></li>
<li title="stop-0">
<a href="cprof.html#stop-0">stop/0</a></li>
<li title="stop-1">
<a href="cprof.html#stop-1">stop/1</a></li>
<li title="stop-2">
<a href="cprof.html#stop-2">stop/2</a></li>
<li title="stop-3">
<a href="cprof.html#stop-3">stop/3</a></li>
</ul>
</li>
<li title="eprof " expanded="false">eprof<ul>
<li>
<a href="eprof.html">
                  Top of manual page
                </a></li>
<li title="start-0">
<a href="eprof.html#start-0">start/0</a></li>
<li title="start_profiling-1">
<a href="eprof.html#start_profiling-1">start_profiling/1</a></li>
<li title="profile-1">
<a href="eprof.html#profile-1">profile/1</a></li>
<li title="stop_profiling-0">
<a href="eprof.html#stop_profiling-0">stop_profiling/0</a></li>
<li title="profile-2">
<a href="eprof.html#profile-2">profile/2</a></li>
<li title="profile-4">
<a href="eprof.html#profile-4">profile/4</a></li>
<li title="analyse-0">
<a href="eprof.html#analyse-0">analyse/0</a></li>
<li title="total_analyse-0">
<a href="eprof.html#total_analyse-0">total_analyse/0</a></li>
<li title="log-1">
<a href="eprof.html#log-1">log/1</a></li>
<li title="stop-0">
<a href="eprof.html#stop-0">stop/0</a></li>
</ul>
</li>
<li title="erlang.el">
<a href="erlang.el.html">erlang.el</a></li>
<li title="fprof " expanded="false">fprof<ul>
<li>
<a href="fprof.html">
                  Top of manual page
                </a></li>
<li title="start-0">
<a href="fprof.html#start-0">start/0</a></li>
<li title="stop-0">
<a href="fprof.html#stop-0">stop/0</a></li>
<li title="stop-1">
<a href="fprof.html#stop-1">stop/1</a></li>
<li title="apply-2">
<a href="fprof.html#apply-2">apply/2</a></li>
<li title="apply-3">
<a href="fprof.html#apply-3">apply/3</a></li>
<li title="apply-3">
<a href="fprof.html#apply-3">apply/3</a></li>
<li title="apply-4">
<a href="fprof.html#apply-4">apply/4</a></li>
<li title="trace-2">
<a href="fprof.html#trace-2">trace/2</a></li>
<li title="trace-2">
<a href="fprof.html#trace-2">trace/2</a></li>
<li title="trace-2">
<a href="fprof.html#trace-2">trace/2</a></li>
<li title="trace-1">
<a href="fprof.html#trace-1">trace/1</a></li>
<li title="trace-1">
<a href="fprof.html#trace-1">trace/1</a></li>
<li title="trace-2">
<a href="fprof.html#trace-2">trace/2</a></li>
<li title="trace-1">
<a href="fprof.html#trace-1">trace/1</a></li>
<li title="profile-0">
<a href="fprof.html#profile-0">profile/0</a></li>
<li title="profile-2">
<a href="fprof.html#profile-2">profile/2</a></li>
<li title="profile-1">
<a href="fprof.html#profile-1">profile/1</a></li>
<li title="profile-2">
<a href="fprof.html#profile-2">profile/2</a></li>
<li title="profile-1">
<a href="fprof.html#profile-1">profile/1</a></li>
<li title="analyse-0">
<a href="fprof.html#analyse-0">analyse/0</a></li>
<li title="analyse-2">
<a href="fprof.html#analyse-2">analyse/2</a></li>
<li title="analyse-1">
<a href="fprof.html#analyse-1">analyse/1</a></li>
<li title="analyse-2">
<a href="fprof.html#analyse-2">analyse/2</a></li>
<li title="analyse-1">
<a href="fprof.html#analyse-1">analyse/1</a></li>
</ul>
</li>
<li title="instrument " expanded="false">instrument<ul>
<li>
<a href="instrument.html">
                  Top of manual page
                </a></li>
<li title="allocator_descr-2">
<a href="instrument.html#allocator_descr-2">allocator_descr/2</a></li>
<li title="block_header_size-1">
<a href="instrument.html#block_header_size-1">block_header_size/1</a></li>
<li title="class_descr-2">
<a href="instrument.html#class_descr-2">class_descr/2</a></li>
<li title="descr-1">
<a href="instrument.html#descr-1">descr/1</a></li>
<li title="holes-1">
<a href="instrument.html#holes-1">holes/1</a></li>
<li title="mem_limits-1">
<a href="instrument.html#mem_limits-1">mem_limits/1</a></li>
<li title="memory_data-0">
<a href="instrument.html#memory_data-0">memory_data/0</a></li>
<li title="memory_status-1">
<a href="instrument.html#memory_status-1">memory_status/1</a></li>
<li title="read_memory_data-1">
<a href="instrument.html#read_memory_data-1">read_memory_data/1</a></li>
<li title="read_memory_status-1">
<a href="instrument.html#read_memory_status-1">read_memory_status/1</a></li>
<li title="sort-1">
<a href="instrument.html#sort-1">sort/1</a></li>
<li title="store_memory_data-1">
<a href="instrument.html#store_memory_data-1">store_memory_data/1</a></li>
<li title="store_memory_status-1">
<a href="instrument.html#store_memory_status-1">store_memory_status/1</a></li>
<li title="sum_blocks-1">
<a href="instrument.html#sum_blocks-1">sum_blocks/1</a></li>
<li title="type_descr-2">
<a href="instrument.html#type_descr-2">type_descr/2</a></li>
<li title="type_no_range-1">
<a href="instrument.html#type_no_range-1">type_no_range/1</a></li>
</ul>
</li>
<li title="make " expanded="true">make<ul>
<li>
<a href="make.html">
                  Top of manual page
                </a></li>
<li title="all-0">
<a href="make.html#all-0">all/0</a></li>
<li title="all-1">
<a href="make.html#all-1">all/1</a></li>
<li title="files-1">
<a href="make.html#files-1">files/1</a></li>
<li title="files-2">
<a href="make.html#files-2">files/2</a></li>
</ul>
</li>
<li title="tags " expanded="false">tags<ul>
<li>
<a href="tags.html">
                  Top of manual page
                </a></li>
<li title="file-2">
<a href="tags.html#file-2">file/2</a></li>
<li title="files-2">
<a href="tags.html#files-2">files/2</a></li>
<li title="dir-2">
<a href="tags.html#dir-2">dir/2</a></li>
<li title="dirs-2">
<a href="tags.html#dirs-2">dirs/2</a></li>
<li title="subdir-2">
<a href="tags.html#subdir-2">subdir/2</a></li>
<li title="subdirs-2">
<a href="tags.html#subdirs-2">subdirs/2</a></li>
<li title="root-1">
<a href="tags.html#root-1">root/1</a></li>
</ul>
</li>
<li title="xref " expanded="false">xref<ul>
<li>
<a href="xref.html">
                  Top of manual page
                </a></li>
<li title="add_application-3">
<a href="xref.html#add_application-3">add_application/3</a></li>
<li title="add_directory-3">
<a href="xref.html#add_directory-3">add_directory/3</a></li>
<li title="add_module-3">
<a href="xref.html#add_module-3">add_module/3</a></li>
<li title="add_release-3">
<a href="xref.html#add_release-3">add_release/3</a></li>
<li title="analyze-3">
<a href="xref.html#analyze-3">analyze/3</a></li>
<li title="d-1">
<a href="xref.html#d-1">d/1</a></li>
<li title="forget-1">
<a href="xref.html#forget-1">forget/1</a></li>
<li title="forget-2">
<a href="xref.html#forget-2">forget/2</a></li>
<li title="format_error-1">
<a href="xref.html#format_error-1">format_error/1</a></li>
<li title="get_default-1">
<a href="xref.html#get_default-1">get_default/1</a></li>
<li title="get_default-2">
<a href="xref.html#get_default-2">get_default/2</a></li>
<li title="get_library_path-1">
<a href="xref.html#get_library_path-1">get_library_path/1</a></li>
<li title="info-1">
<a href="xref.html#info-1">info/1</a></li>
<li title="info-2">
<a href="xref.html#info-2">info/2</a></li>
<li title="info-3">
<a href="xref.html#info-3">info/3</a></li>
<li title="m-1">
<a href="xref.html#m-1">m/1</a></li>
<li title="m-1">
<a href="xref.html#m-1">m/1</a></li>
<li title="q-3">
<a href="xref.html#q-3">q/3</a></li>
<li title="remove_application-2">
<a href="xref.html#remove_application-2">remove_application/2</a></li>
<li title="remove_module-2">
<a href="xref.html#remove_module-2">remove_module/2</a></li>
<li title="remove_release-2">
<a href="xref.html#remove_release-2">remove_release/2</a></li>
<li title="replace_application-4">
<a href="xref.html#replace_application-4">replace_application/4</a></li>
<li title="replace_module-4">
<a href="xref.html#replace_module-4">replace_module/4</a></li>
<li title="set_default-3">
<a href="xref.html#set_default-3">set_default/3</a></li>
<li title="set_default-2">
<a href="xref.html#set_default-2">set_default/2</a></li>
<li title="set_library_path-3">
<a href="xref.html#set_library_path-3">set_library_path/3</a></li>
<li title="start-1">
<a href="xref.html#start-1">start/1</a></li>
<li title="start-2">
<a href="xref.html#start-2">start/2</a></li>
<li title="stop-1">
<a href="xref.html#stop-1">stop/1</a></li>
<li title="update-2">
<a href="xref.html#update-2">update/2</a></li>
<li title="variables-2">
<a href="xref.html#variables-2">variables/2</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>make</h1></center>
  
  <h3>MODULE</h3>
<div class="REFBODY">make</div>
  <h3>MODULE SUMMARY</h3>
<div class="REFBODY">A Make Utility for Erlang</div>
  <h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
    <p>The module <span class="code">make</span> provides a set of functions similar to
      the UNIX type <span class="code">Make</span> functions.</p>
  </p></div>
  <h3>EXPORTS</h3>
    <p><a name="all-0"><span class="bold_code">all() -&gt; up_to_date | error</span></a><br><a name="all-1"><span class="bold_code">all(Options) -&gt; up_to_date | error</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Options = [Option]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Option = noexec | load | netload | &lt;compiler option&gt;</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>This function first looks in the current working directory
          for a file named <span class="code">Emakefile</span> (see below) specifying the
          set of modules to compile and the compile options to use. If
          no such file is found, the set of modules to compile
          defaults to all modules in the current working
          directory.</p>
        <p>Traversing the set of modules, it then recompiles every module for
          which at least one of the following conditions apply:</p>
        <ul>
          <li>there is no object file, or</li>
          <li>the source file has been modified since it was last compiled,
           or,</li>
          <li>an include file has been modified since the source file was
           last compiled.</li>
        </ul>
        <p>As a side effect, the function prints the name of each module it
          tries to compile. If compilation fails for a module, the make
          procedure stops and <span class="code">error</span> is returned.</p>
        <p><span class="code">Options</span> is a list of make- and compiler options.
          The following make options exist:</p>
        <ul>
          <li>
<span class="code">noexec</span>          <br>
           No execution mode. Just prints the name of each module that needs
           to be compiled.</li>
          <li>
<span class="code">load</span>          <br>
           Load mode. Loads all recompiled modules.</li>
          <li>
<span class="code">netload</span>          <br>
           Net load mode. Loads all recompiled modules an all known nodes.</li>
        </ul>
        <p>All items in <span class="code">Options</span> that are not make options are assumed
          to be compiler options and are passed as-is to
          <span class="code">compile:file/2</span>. <span class="code">Options</span> defaults to <span class="code">[]</span>.</p>
      </p></div>
    <p><a name="files-1"><span class="bold_code">files(ModFiles) -&gt; up_to_date | error</span></a><br><a name="files-2"><span class="bold_code">files(ModFiles, Options) -&gt; up_to_date | error</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">ModFiles = [Module | File]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Module = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> File = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Options = [Option]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Option = noexec | load | netload | &lt;compiler option&gt;</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p><span class="code">files/1,2</span> does exactly the same thing as <span class="code">all/0,1</span> but
          for the specified <span class="code">ModFiles</span>, which is a list of module or
          file names. The file extension <span class="code">.erl</span> may be omitted.</p>
        <p>The <span class="code">Emakefile</span> (if it exists) in the current
          directory is searched for compiler options for each module. If
          a given module does not exist in <span class="code">Emakefile</span> or if
          <span class="code">Emakefile</span> does not exist, the module is still compiled.</p>
      </p></div>
  
  <h3><a name="id2281292">Emakefile</a></h3>
<div class="REFBODY">
    
    <p><span class="code">make:all/0,1</span> and <span class="code">make:files/1,2</span> looks in the
      current working directory for a file named <span class="code">Emakefile</span>. If
      it exists, <span class="code">Emakefile</span> should contain elements like this:</p>
    <div class="example"><pre>
Modules.
{Modules,Options}.    </pre></div>
    <p><span class="code">Modules</span> is an atom or a list of atoms. It can be 
      </p>
    <ul>
      <li>a module name, e.g. <span class="code">file1</span>
</li>
      <li>a module name in another directory,
       e.g. <span class="code">../foo/file3</span>
</li>
      <li>a set of modules specified with a wildcards,
       e.g. <span class="code">'file*'</span>
</li>
      <li>a wildcard indicating all modules in current directory,
       i.e. <span class="code">'*'</span>
</li>
      <li>a list of any of the above,
       e.g. <span class="code">['file*','../foo/file3','File4']</span>
</li>
    </ul>
    <p><span class="code">Options</span> is a list of compiler options.
      </p>
    <p><span class="code">Emakefile</span> is read from top to bottom. If a module
      matches more than one entry, the first match is valid. For
      example, the following <span class="code">Emakefile</span> means that <span class="code">file1</span>
      shall be compiled with the options
      <span class="code">[debug_info,{i,"../foo"}]</span>, while all other files in the
      current directory shall be compiled with only the
      <span class="code">debug_info</span> flag.</p>
    <div class="example"><pre>
{'file1',[debug_info,{i,"../foo"}]}.
{'*',[debug_info]}.    </pre></div>
    <p></p>
  </div>
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2009 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-3045895-1";
urchinTracker();
</script> 
</body>
</html>
