<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../otp_doc.css" type="text/css">
<title>Erlang -- Kernel Release Notes</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../../../doc/js/erlresolvelinks.js"></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../../erlang-logo.png"><br><small>
<a href="index.html">Reference Manual</a><br>
<a href="release_notes.html">Release Notes</a><br>
<a href="kernel.pdf">PDF</a><br>
<a href="../../index.html">Top</a></small><p><strong>Kernel</strong><br><strong>Release Notes</strong><br><small>Version 2.13.4</small></p>
<br>
<a href="javascript:openAllFlips()">Expand All</a><br>
<a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Chapters</strong></small></p>
<ul class="flipMenu" imagepath="../../../../doc/js/flipmenu"><li title="Kernel Release Notes" expanded="true">Kernel Release Notes<ul>
<li>
<a href="notes.html">
              Top of chapter
            </a></li>
<li title="Kernel 2.13.4">
<a href="notes.html#id2257417">Kernel 2.13.4</a></li>
<li title="Kernel 2.13.3">
<a href="notes.html#id2252946">Kernel 2.13.3</a></li>
<li title="Kernel 2.13.2">
<a href="notes.html#id2255946">Kernel 2.13.2</a></li>
<li title="Kernel 2.13.1">
<a href="notes.html#id2256014">Kernel 2.13.1</a></li>
<li title="Kernel 2.13">
<a href="notes.html#id2256127">Kernel 2.13</a></li>
<li title="Kernel 2.12.5.1">
<a href="notes.html#id2254427">Kernel 2.12.5.1</a></li>
<li title="Kernel 2.12.5">
<a href="notes.html#id2254487">Kernel 2.12.5</a></li>
<li title="Kernel 2.12.4">
<a href="notes.html#id2252030">Kernel 2.12.4</a></li>
<li title="Kernel 2.12.3">
<a href="notes.html#id2252135">Kernel 2.12.3</a></li>
<li title="Kernel 2.12.2.1">
<a href="notes.html#id2252345">Kernel 2.12.2.1</a></li>
<li title="Kernel 2.12.2">
<a href="notes.html#id2252392">Kernel 2.12.2</a></li>
<li title="Kernel 2.12.1.2">
<a href="notes.html#id2260667">Kernel 2.12.1.2</a></li>
<li title="Kernel 2.12.1.1">
<a href="notes.html#id2260714">Kernel 2.12.1.1</a></li>
<li title="Kernel 2.12.1">
<a href="notes.html#id2260747">Kernel 2.12.1</a></li>
<li title="Kernel 2.12">
<a href="notes.html#id2260861">Kernel 2.12</a></li>
<li title="Kernel 2.11.5.2">
<a href="notes.html#id2292043">Kernel 2.11.5.2</a></li>
<li title="Kernel 2.11.5.1">
<a href="notes.html#id2292077">Kernel 2.11.5.1</a></li>
<li title="Kernel 2.11.5">
<a href="notes.html#id2292164">Kernel 2.11.5</a></li>
<li title="Kernel 2.11.4.2">
<a href="notes.html#id2292317">Kernel 2.11.4.2</a></li>
<li title="Kernel 2.11.4.1">
<a href="notes.html#id2292354">Kernel 2.11.4.1</a></li>
<li title="Kernel 2.11.4">
<a href="notes.html#id2292388">Kernel 2.11.4</a></li>
<li title="Kernel 2.11.3.1">
<a href="notes.html#id2289043">Kernel 2.11.3.1</a></li>
<li title="Kernel 2.11.3">
<a href="notes.html#id2289080">Kernel 2.11.3</a></li>
<li title="Kernel 2.11.2">
<a href="notes.html#id2289164">Kernel 2.11.2</a></li>
<li title="Kernel 2.11.1.1">
<a href="notes.html#id2289363">Kernel 2.11.1.1</a></li>
<li title="Kernel 2.11.1">
<a href="notes.html#id2289399">Kernel 2.11.1</a></li>
<li title="Kernel 2.11">
<a href="notes.html#id2289490">Kernel 2.11</a></li>
<li title="Kernel 2.10.13">
<a href="notes.html#id2289809">Kernel 2.10.13</a></li>
<li title="Kernel 2.10.12">
<a href="notes.html#id2289953">Kernel 2.10.12</a></li>
<li title="Kernel 2.10.11.1">
<a href="notes.html#id2257707">Kernel 2.10.11.1</a></li>
<li title="Kernel 2.10.11">
<a href="notes.html#id2257830">Kernel 2.10.11</a></li>
<li title="Kernel 2.10.10.1">
<a href="notes.html#id2258099">Kernel 2.10.10.1</a></li>
<li title="Kernel 2.10.10">
<a href="notes.html#id2258151">Kernel 2.10.10</a></li>
<li title="Kernel 2.10.9">
<a href="notes.html#id2258324">Kernel 2.10.9</a></li>
<li title="Kernel 2.10.8">
<a href="notes.html#id2258609">Kernel 2.10.8</a></li>
<li title="Kernel 2.10.7">
<a href="notes.html#id2269598">Kernel 2.10.7</a></li>
<li title="Kernel 2.10.6">
<a href="notes.html#id2269709">Kernel 2.10.6</a></li>
<li title="Kernel 2.10.5">
<a href="notes.html#id2269789">Kernel 2.10.5</a></li>
<li title="Kernel 2.10.4">
<a href="notes.html#id2269886">Kernel 2.10.4</a></li>
<li title="Kernel 2.10.3">
<a href="notes.html#id2269940">Kernel 2.10.3</a></li>
<li title="Kernel 2.10.1">
<a href="notes.html#id2270013">Kernel 2.10.1</a></li>
</ul>
</li></ul>
</div></div>
<div id="content">
<div class="innertube">
<h1>1 Kernel Release Notes</h1>
  
  <p>This document describes the changes made to the Kernel application.</p>
<h3><a name="id2257417">1.1 
        Kernel 2.13.4</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
	    <p>A link in <span class="code">pg2(3)</span> has been fixed. (Thanks to
	    Christophe Romain.)</p>
          <p>
	    Own Id: OTP-8198</p>
        </li>
        <li>
          <p>
	    A ticker process could potentially be blocked
	    indefinitely trying to send a tick to a node not
	    responding. If this happened, the connection would not be
	    brought down as it should.</p>
          <p>
	    Own Id: OTP-8218</p>
        </li>
        <li>
	    <p>A bug in <span class="code">pg2</span> when members who died did not
	    leave process groups has been fixed. (Thanks to Matthew
	    Dempsky.)</p>
          <p>
	    Own Id: OTP-8259</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    The documentation is now built with open source tools
	    (xsltproc and fop) that exists on most platforms. One
	    visible change is that the frames are removed.</p>
          <p>
	    Own Id: OTP-8201</p>
        </li>
        <li>
          <p>
	    The top directory in archive files does not need to have
	    a <span class="code">-vsn</span> suffix anymore. For example if the archive
	    file has the name like <span class="code">mnesia-4.4.7.ez</span> the top
	    directory in the archive can either be named
	    <span class="code">mnesia</span> or <span class="code">mnesia-4.4.7</span>. If the archive file
	    has a name like <span class="code">mnesia.ez</span> the top directory in the
	    archive must be named <span class="code">mnesia</span> as earlier.</p>
          <p>
	    Own Id: OTP-8266</p>
        </li>
        <li>
	    <p>The -on_load() directive can be used to run a function
	    when a module is loaded. It is documented in the section
	    about code loading in the Reference Manual.</p>
          <p>
	    Own Id: OTP-8295</p>
        </li>
      </ul>
    
<h3><a name="id2252946">1.2 
        Kernel 2.13.3</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
	    <p> The DNS resolver client inet_res has been rewritten,
	    documented and released. See inet_res(3) and Erts User's
	    Guide: Inet configuration. </p>
<p> It can formally not be
	    incompatible with respect to earlier versions since there
	    was no earlier official version. However it was used
	    before and some details have changed. </p>
<p>
	    Configuration now initializes from /etc/resolv.conf and
	    /etc/hosts on all unix platforms regardless of which
	    distribution mode the node is started in. The directory
	    (/etc) these files are supposed to reside in can be
	    changed via an environment variable. These configuration
	    file locations can also be changed in the inet
	    configuration. The files are monitored for change and
	    re-read, which makes a few resolver configuration
	    variables out of application control. The /etc/hosts
	    entries have now their own cache table that is shadowed
	    (with lookup method 'file' is used) by the application
	    configured host entries. This problem (that inet_res
	    configuration only worked for distribution mode long
	    names) was among other reported by Matthew O'Gorman many
	    moons ago. </p>
<p> The lookup methods are still 'native'
	    only per default. Resolver configuration is done on all
	    Unix platforms just to get a usable configuration for
	    direct calls to inet_res. </p>
<p> The functions
	    <span class="code">inet_res:nslookup/3..5</span> and
	    <span class="code">inet_res:nnslookup/4..4</span> are no longer recommended
	    to use, instead use <span class="code">inet_res:lookup/3..5</span> and
	    <span class="code">inet_res:resolve/3..5</span> which provide clearer
	    argument types and the possibility to override options in
	    the call. </p>
<p> Users of previous unsupported versions
	    of inet_res have included internal header files to get to
	    the internal record definitions in order to examine DNS
	    replies. This is still unsupported and there are access
	    functions in inet_dns to use instead. These are
	    documented in inet_res(3). </p>
<p> Bug fix: a compression
	    reference loop would make DNS message decoding loop
	    forever. Problem reported by Florian Weimer. </p>
<p> Bug
	    fix and patch suggestion by Sergei Golovan: configuring
	    IPv6 nameservers did not work. His patch (as he warned)
	    created many UDP sockets; one per nameserver. This has
	    been fixed in the released version. </p>
<p> Improvement:
	    <span class="code">inet_res</span> is now EDNS0 capable. The current
	    implementation is simple and does not probe and cache
	    EDNS info for nameservers, which a fully capable
	    implementation probably should do. EDNS has to be enabled
	    via resolver configuration, and if a nameserver replies
	    that it does not support EDNS, <span class="code">inet_res</span> falls back
	    to a regular DNS query. </p>
<p> Improvement: now
	    <span class="code">inet_res</span> automatically falls back to TCP if it
	    gets a truncated answer from a nameserver. </p>
<p>
	    Warning: some of the ancient and exotic record types
	    handled by <span class="code">inet_res</span> and <span class="code">inet_dns</span> are not
	    supported by current versions of BIND, so they could not
	    be tested after the rewrite, with reasonable effort, e.g
	    MD, MF, NULL, and SPF. The risk for bugs in these
	    particular records is still low since their code is
	    mostly shared with other tested record types. </p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-7955 Aux Id: OTP-7107 OTP-6852 </p>
        </li>
        <li>
          <p>
	    A TCP socket with option <span class="code">{packet,4}</span> could crash
	    the emulator if it received a packet header with a very
	    large size value (&gt;2Gb). The same bug caused
	    <span class="code">erlang:decode_packet/3</span> to return faulty values.
	    (Thanks to Georgos Seganos.)</p>
          <p>
	    Own Id: OTP-8102</p>
        </li>
        <li>
          <p>
	    The file module has now a read_line/1 function similar to
	    the io:get_line/2, but with byte oriented semantics. The
	    function file:read_line/1 works for raw files as well,
	    but for good performance it is recommended to use it
	    together with the 'read_ahead' option for raw file
	    access.</p>
          <p>
	    Own Id: OTP-8108</p>
        </li>
      </ul>
    
<h3><a name="id2255946">1.3 
        Kernel 2.13.2</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    A bug when doing io:get_line (among other calls) from a
	    file opened with encoding other than latin1, causing
	    false unicode errors to occur, is now corrected.</p>
          <p>
	    Own Id: OTP-7974</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Added functionality to get higher resolution timestamp
	    from system. The erlang:now function returns a timestamp
	    that's not always consistent with the actual operating
	    system time (due to resilience against large time changes
	    in the operating system). The function os:timestamp/0 is
	    added to get a similar timestamp as the one being
	    returned by erlang:now, but untouched by Erlangs time
	    correcting and smoothing algorithms. The timestamp
	    returned by os:timestamp is always consistent with the
	    operating systems view of time, like the calendar
	    functions for getting wall clock time, but with higher
	    resolution. Example of usage can be found in the os
	    manual page.</p>
          <p>
	    Own Id: OTP-7971</p>
        </li>
      </ul>
    
<h3><a name="id2256014">1.4 
        Kernel 2.13.1</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    Many concurrent calls to <span class="code">os:cmd/1</span> will only block
	    one scheduler thread at a time, making an smp emulator
	    more responsive if the OS is slow forking processes.</p>
          <p>
	    Own Id: OTP-7890 Aux Id: seq11219 </p>
        </li>
        <li>
          <p>
	    Fixed hanging early RPC that did IO operation during node
	    start.</p>
          <p>
	    Own Id: OTP-7903 Aux Id: seq11224 </p>
        </li>
        <li>
          <p>
	    The error behavior of gen_tcp and gen_udp has been
	    corrected. gen_tcp:connect/3,4 and gen_udp:send/4 now
	    returns {error,eafnosupport} for conflicting destination
	    address versus socket address family. Other corner cases
	    for IP address string host names combined with not using
	    the native (OS) resolver (which is not default) has also
	    been changed to return {error,nxdomain} instead of
	    {error,einval}. Those changes just may surprise old
	    existing code. gen_tcp:listen/2 and gen_udp:open/2 now
	    fails for conflicting local address versus socket address
	    family instead of trying to use an erroneous address.
	    Problem reported by Per Hedeland.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-7929</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Several glitches and performance issues in the Unicode
	    and I/O-system implementation of R13A have been
	    corrected.</p>
          <p>
	    Own Id: OTP-7896 Aux Id: OTP-7648 OTP-7887 </p>
        </li>
        <li>
          <p>
	    The unsupported DNS resolver client inet_res has now been
	    improved to handle NAPTR queries.</p>
          <p>
	    Own Id: OTP-7925 Aux Id: seq11231 </p>
        </li>
      </ul>
    
<h3><a name="id2256127">1.5 
        Kernel 2.13</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    The old Erlang DNS resolver inet_res has been corrected
	    to handle TXT records with more than one character
	    string. Patch courtesy of Geoff Cant.</p>
          <p>
	    Own Id: OTP-7588</p>
        </li>
        <li>
	    <p>When chunk reading a disk log opened in read_only
	    mode, bad terms could crash the disk log process.</p>
          <p>
	    Own Id: OTP-7641 Aux Id: seq11090 </p>
        </li>
        <li>
          <p>
	    <span class="code">gen_tcp:send()</span> did sometimes (only observed on
	    Solaris) return <span class="code">{error,enotconn}</span> instead of the
	    expected <span class="code">{error,closed}</span> as the peer socket had
	    been explicitly closed.</p>
          <p>
	    Own Id: OTP-7647</p>
        </li>
        <li>
          <p>
	    The gen_sctp option sctp_peer_addr_params,
	    #sctp_paddrparams{address={IP,Port} was erroneously
	    decoded in the inet driver. This bug has now been
	    corrected.</p>
          <p>
	    Own Id: OTP-7755</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Erlang programs can now access STDERR on platforms where
	    such a file descriptor is available by using the
	    io_server 'standard_error', i.e.
	    io:format(standard_error,"~s~n",[ErrorMessage]),</p>
          <p>
	    Own Id: OTP-6688</p>
        </li>
        <li>
          <p>
	    The format of the string returned by
	    <span class="code">erlang:system_info(system_version)</span> (as well as the
	    first message when Erlang is started) has changed. The
	    string now contains the both the OTP version number as
	    well as the erts version number.</p>
          <p>
	    Own Id: OTP-7649</p>
        </li>
        <li>
	    <p>As of this version, the global name server no longer
	    supports nodes running Erlang/OTP R10B.</p>
          <p>
	    Own Id: OTP-7661</p>
        </li>
        <li>
          <p>
	    A <span class="code">{nodedown, Node}</span> message passed by the
	    <span class="code">net_kernel:monitor_nodes/X</span> functionality is now
	    guaranteed to be sent after <span class="code">Node</span> has been removed
	    from the result returned by <span class="code">erlang:nodes/Y</span>.</p>
          <p>
	    Own Id: OTP-7725</p>
        </li>
        <li>
	    <p>The deprecated functions <span class="code">erlang:fault/1</span>,
	    <span class="code">erlang:fault/2</span>, and <span class="code">file:rawopen/2</span> have
	    been removed.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-7812</p>
        </li>
        <li>
          <p>
	    Nodes belonging to different independent clusters can now
	    co-exist on the same host with the help of a new
	    environment variable setting ERL_EPMD_PORT.</p>
          <p>
	    Own Id: OTP-7826</p>
        </li>
        <li>
	    <p>The copyright notices have been updated.</p>
          <p>
	    Own Id: OTP-7851</p>
        </li>
      </ul>
    
<h3><a name="id2254427">1.6 
        Kernel 2.12.5.1</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
	    <p>When chunk reading a disk log opened in read_only
	    mode, bad terms could crash the disk log process.</p>
          <p>
	    Own Id: OTP-7641 Aux Id: seq11090 </p>
        </li>
        <li>
          <p>
	    Calling <span class="code">gen_tcp:send()</span> from several processes on
	    socket with option <span class="code">send_timeout</span> could lead to much
	    longer timeout than specified. The solution is a new
	    socket option <span class="code">{send_timeout_close,true}</span> that will
	    do automatic close on timeout. Subsequent calls to send
	    will then immediately fail due to the closed connection.</p>
          <p>
	    Own Id: OTP-7731 Aux Id: seq11161 </p>
        </li>
      </ul>
    
<h3><a name="id2254487">1.7 
        Kernel 2.12.5</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
	    <p>The documentation of <span class="code">rpc:pmap/3</span> has been
	    corrected. (Thanks to Kirill Zaborski.)</p>
          <p>
	    Own Id: OTP-7537</p>
        </li>
        <li>
          <p>
	    The listen socket used for the distributed Erlang
	    protocol now uses the socket option 'reuseaddr', which is
	    useful when you force the listen port number using kernel
	    options 'inet_dist_listen_min' and 'inet_dist_listen_max'
	    and restarts a node with open connections.</p>
          <p>
	    Own Id: OTP-7563</p>
        </li>
        <li>
          <p>
	    Fixed memory leak of unclosed TCP-ports. A gen_tcp:send()
	    followed by a failing gen_tcp:recv() could in some cases
	    cause the port to linger after being closed.</p>
          <p>
	    Own Id: OTP-7615</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
	    <p>Processes spawned using <span class="code">proc_lib</span> (including
	    <span class="code">gen_server</span> and other library modules that use
	    <span class="code">proc_lib</span>) no longer keep the entire argument list
	    for the initial call, but only the arity.</p>
	    <p>Also, if <span class="code">proc_lib:spawn/1</span> is used to spawn a
	    fun, the actual fun is not kept, but only module,
	    function name, and arity of the function that implements
	    the fun.</p>
	    <p>The reason for the change is that keeping the initial
	    fun (or a fun in an argument list), would prevent
	    upgrading the code for the module. A secondary reason is
	    that keeping the fun and function arguments could waste a
	    significant amount of memory.</p>
	    <p>The drawback with the change is that the crash reports
	    will provide less precise information about the initial
	    call (only <span class="code">Module:Function/Arity</span> instead of
	    <span class="code">Module:Function(Arguments)</span>). The function
	    <span class="code">proc_lib:initial_call/1</span> still returns a list, but
	    each argument has been replaced with a dummy atom.</p>
          <p>
	    Own Id: OTP-7531 Aux Id: seq11036 </p>
        </li>
        <li>
          <p>
	    <span class="code">io:get_line/1</span> when reading from standard input is
	    now substantially faster. There are also some minor
	    performance improvements in <span class="code">io:get_line/1</span> when
	    reading from any file opened in binary mode. (Thanks to
	    Fredrik Svahn.)</p>
          <p>
	    Own Id: OTP-7542</p>
        </li>
        <li>
          <p>
	    There is now experimental support for loading of code
	    from archive files. See the documentation of <span class="code">code</span>,
	    <span class="code">init</span>, <span class="code">erl_prim_loader </span> and <span class="code">escript</span>
	    for more info.</p>
          <p>
	    The error handling of <span class="code">escripts</span> has been improved.</p>
          <p>
	    An <span class="code">escript</span> may now set explicit arguments to the
	    emulator, such as <span class="code">-smp enabled</span>.</p>
          <p>
	    An <span class="code">escript</span> may now contain a precompiled beam
	    file.</p>
          <p>
	    An <span class="code">escript</span> may now contain an archive file
	    containing one or more applications (experimental).</p>
          <p>
	    The internal module <span class="code">code_aux</span> has been removed.</p>
          <p>
	    Own Id: OTP-7548 Aux Id: otp-6622 </p>
        </li>
        <li>
          <p>
	    <span class="code">code:is_sticky/1</span> is now documented. (Thanks to
	    Vlad Dumitrescu.)</p>
          <p>
	    Own Id: OTP-7561</p>
        </li>
        <li>
          <p>
	    In the job control mode, the "s" and "r" commands now
	    take an optional argument to specify which shell to
	    start. (Thanks to Robert Virding.)</p>
          <p>
	    Own Id: OTP-7617</p>
        </li>
        <li>
          <p>
	    <span class="code">net_adm:world/0,1</span> could crash if called in an
	    emulator that has not been started with either the
	    <span class="code">-sname</span> or <span class="code">-name</span> option; now it will return
	    an empty list. (Thanks to Edwin Fine.)</p>
          <p>
	    Own Id: OTP-7618</p>
        </li>
      </ul>
    
<h3><a name="id2252030">1.8 
        Kernel 2.12.4</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    Large files are now handled on Windows, where the
	    filesystem supports it.</p>
          <p>
	    Own Id: OTP-7410</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    New BIF <span class="code">erlang:decode_packet/3</span> that extracts a
	    protocol packet from a binary. Similar to the socket
	    option <span class="code">{packet, Type}</span>. Also documented the socket
	    packet type <span class="code">http</span> and made it official.
	    <strong>NOTE</strong>: The tuple format for <span class="code">http</span> packets
	    sent from an active socket has been changed in an
	    incompatible way.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-7404</p>
        </li>
        <li>
          <p>
	    Setting the <span class="code">{active,once}</span> for a socket (using
	    inets:setopts/2) is now specially optimized (because the
	    <span class="code">{active,once}</span> option is typically used much more
	    frequently than other options).</p>
          <p>
	    Own Id: OTP-7520</p>
        </li>
      </ul>
    
<h3><a name="id2252135">1.9 
        Kernel 2.12.3</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    SCTP_ADDR_CONFIRMED events are now handled by gen_sctp.</p>
          <p>
	    Own Id: OTP-7276</p>
        </li>
        <li>
	    <p>When leaving a process group with <span class="code">pg2:leave/2</span>
	    the process was falsely assumed to be a member of the
	    group. This bug has been fixed.</p>
          <p>
	    Own Id: OTP-7277</p>
        </li>
        <li>
          <p>
	    In the Erlang shell, using up and down arrow keys, the
	    wrong previous command could sometimes be retrieved.</p>
          <p>
	    Own Id: OTP-7278</p>
        </li>
        <li>
          <p>
	    The documentation for <span class="code">erlang:trace/3</span> has been
	    corrected.</p>
          <p>
	    Own Id: OTP-7279 Aux Id: seq10927 </p>
        </li>
        <li>
          <p>
	    In the SMP emulator, there was small risk that
	    <span class="code">code:purge(Mod)</span> would kill a process that was
	    running code in <span class="code">Mod</span> and unload the module
	    <span class="code">Mod</span> before the process had terminated.
	    <span class="code">code:purge(Mod)</span> now waits for confirmation (using
	    <span class="code">erlang:monitor/2</span>) that the process has been killed
	    before proceeding.</p>
          <p>
	    Own Id: OTP-7282</p>
        </li>
        <li>
          <p>
	    <span class="code">zlib:inflate</span> failed when the size of the inflated
	    data was an exact multiple of the internal buffer size
	    (4000 bytes by default).</p>
          <p>
	    Own Id: OTP-7359</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Additional library directories can now be specified in
	    the environment variable ERL_LIBS. See the manual page
	    for the <span class="code">code</span> module. (Thanks to Serge Aleynikov.)</p>
          <p>
	    Own Id: OTP-6940</p>
        </li>
        <li>
          <p>
	    crypto and zlib drivers improved to allow concurrent smp
	    access.</p>
          <p>
	    Own Id: OTP-7262</p>
        </li>
        <li>
          <p>
	    There is a new function <span class="code">init:stop/1</span> which can be
	    used to shutdown the system cleanly AND generate a
	    non-zero exit status or crash dump. (Thanks to Magnus
	    Froberg.)</p>
          <p>
	    Own Id: OTP-7308</p>
        </li>
        <li>
          <p>
	    The <span class="code">hide</span> option for <span class="code">open_port/2</span> is now
	    documented. (Thanks to Richard Carlsson.)</p>
          <p>
	    Own Id: OTP-7358</p>
        </li>
      </ul>
    
<h3><a name="id2252345">1.10 
        Kernel 2.12.2.1</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
            <span class="code">os:cmd/1</span> on unix platforms now use <span class="code">/bin/sh</span>
            as shell instead of looking for <span class="code">sh</span> in the
            <span class="code">PATH</span> environment.</p>
          <p>
            Own Id: OTP-7283</p>
        </li>
      </ul>
    
<h3><a name="id2252392">1.11 
        Kernel 2.12.2</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
	    <p>A bug caused by a race condition involving
	    <span class="code">disk_log</span> and <span class="code">pg2</span> has been fixed.</p>
          <p>
	    Own Id: OTP-7209 Aux Id: seq10890 </p>
        </li>
        <li>
	    <p>The beta testing module <span class="code">gen_sctp</span> now supports
	    active mode as stated in the documentation. Active mode
	    is still rather untested, and there are some issues about
	    what should be the right semantics for
	    <span class="code">gen_sctp:connect/5</span>. In particular: should it be
	    blocking or non-blocking or choosable. There is a high
	    probability it will change semantics in a (near) future
	    patch.</p> <p>Try it, give comments and send in bug
	    reports!</p>
          <p>
	    Own Id: OTP-7225</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
	    <p><span class="code">erlang:system_info/1</span> now accepts the
	    <span class="code">logical_processors</span>, and <span class="code">debug_compiled</span>
	    arguments. For more info see the, <span class="code">erlang(3)</span>
	    documentation.</p> <p>The scale factor returned by
	    <span class="code">test_server:timetrap_scale_factor/0</span> is now also
	    effected if the emulator uses a larger amount of
	    scheduler threads than the amount of logical processors
	    on the system. </p>
          <p>
	    Own Id: OTP-7175</p>
        </li>
        <li>
          <p>
	    Updated the documentation for
	    <span class="code">erlang:function_exported/3</span> and <span class="code">io:format/2</span>
	    functions to no longer state that those functions are
	    kept mainly for backwards compatibility.</p>
          <p>
	    Own Id: OTP-7186</p>
        </li>
        <li>
          <p>
	    A process executing the <span class="code">processes/0</span> BIF can now be
	    preempted by other processes during its execution. This
	    in order to disturb the rest of the system as little as
	    possible. The returned result is, of course, still a
	    consistent snapshot of existing processes at a time
	    during the call to <span class="code">processes/0</span>.</p>
          <p>
	    The documentation of the <span class="code">processes/0</span> BIF and the
	    <span class="code">is_process_alive/1</span> BIF have been updated in order
	    to clarify the difference between an existing process and
	    a process that is alive.</p>
          <p>
	    Own Id: OTP-7213</p>
        </li>
        <li>
	    <p><span class="code">tuple_size/1</span> and <span class="code">byte_size/1</span> have been
	    substituted for <span class="code">size/1</span> in the documentation.</p>
          <p>
	    Own Id: OTP-7244</p>
        </li>
      </ul>
    
<h3><a name="id2260667">1.12 
        Kernel 2.12.1.2</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
	    <p>The <span class="code">{allocator_sizes, Alloc}</span> and
	    <span class="code">alloc_util_allocators</span> arguments are now accepted
	    by <span class="code">erlang:system_info/1</span>. For more information see
	    the <span class="code">erlang(3)</span> documentation.</p>
          <p>
	    Own Id: OTP-7167</p>
        </li>
      </ul>
    
<h3><a name="id2260714">1.13 
        Kernel 2.12.1.1</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
            Fixed a problem in group that could cause the ssh server
            to lose answers or hang.</p>
          <p>
            Own Id: OTP-7185 Aux Id: seq10871 </p>
        </li>
      </ul>
    
<h3><a name="id2260747">1.14 
        Kernel 2.12.1</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    file:read/2 and file:consult_stream/1,3 did not use an
	    empty prompt on I/O devices. This bug has now been
	    corrected.</p>
          <p>
	    Own Id: OTP-7013</p>
        </li>
        <li>
          <p>
	    The sctp driver has been updated to work against newer
	    lksctp packages e.g 1.0.7 that uses the API spelling
	    change adaption -&gt; adaptation. Older lksctp (1.0.6) still
	    work. The erlang API in gen_sctp.erl and inet_sctp.hrl
	    now spells 'adaptation' regardless of the underlying C
	    API.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-7120</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
	    <p>The documentation has been updated so as to reflect
	    the last updates of the Erlang shell as well as the minor
	    modifications of the control sequence <span class="code">p</span> of the
	    <span class="code">io_lib</span> module.</p> <p>Superfluous empty lines have
	    been removed from code examples and from Erlang shell
	    examples.</p>
          <p>
	    Own Id: OTP-6944 Aux Id: OTP-6554, OTP-6911 </p>
        </li>
        <li>
	    <p><span class="code">tuple_size/1</span> and <span class="code">byte_size/1</span> have been
	    substituted for <span class="code">size/1</span>.</p>
          <p>
	    Own Id: OTP-7009</p>
        </li>
      </ul>
    
<h3><a name="id2260861">1.15 
        Kernel 2.12</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    A bug for raw files when reading 0 bytes returning 'eof'
	    instead of empty data has been corrected.</p>
          <p>
	    Own Id: OTP-6291 Aux Id: OTP-6967 </p>
        </li>
        <li>
          <p>
	    A bug in gen_udp:fdopen reported by David Baird and also
	    found by Dialyzer has been fixed.</p>
          <p>
	    Own Id: OTP-6836 Aux Id: OTP-6594 </p>
        </li>
        <li>
          <p>
	    Calling <span class="code">error_logger:tty(true)</span> multiple times does
	    not give multiple error log printouts.</p>
          <p>
	    Own Id: OTP-6884 Aux Id: seq10767 </p>
        </li>
        <li>
	    <p>The global name server now ignores <span class="code">nodeup</span>
	    messages when the command line flag <span class="code">-connect_all
	    false</span> has been used. (Thanks to Trevor
	    Woollacott.)</p>
          <p>
	    Own Id: OTP-6931</p>
        </li>
        <li>
	    <p>file:write_file/3, file:write/2 and file:read/2 could
	    crash (contrary to documentation) for odd enough file
	    system problems, e.g write to full file system. This bug
	    has now been corrected.</p> <p>In this process the file
	    module has been rewritten to produce better error codes.
	    Posix error codes now originate from the OS file system
	    calls or are generated only for very similar causes (for
	    example 'enomem' is generated if a memory allocation
	    fails, and 'einval' is generated if the file handle in
	    Erlang is a file handle but currently invalid).</p>
	    <p>More Erlang-ish error codes are now generated. For
	    example <span class="code">{error,badarg}</span> is now returned from
	    <span class="code">file:close/1</span> if the argument is not of a file
	    handle type. See file(3).</p> <p>The possibility to write
	    a single byte using <span class="code">file:write/2</span> instead of a list
	    or binary of one byte, contradictory to the
	    documentation, has been removed.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-6967 Aux Id: OTP-6597 OTP-6291 </p>
        </li>
        <li>
          <p>
	    Monitor messages produced by the system monitor
	    functionality, and garbage collect trace messages could
	    contain erroneous heap and/or stack sizes when the actual
	    heaps and/or stacks were huge.</p>
          <p>
	    As of erts version 5.6 the <span class="code">large_heap</span> option to
	    <span class="code">erlang:system_monitor/[1,2]</span> has been modified. The
	    monitor message is sent if the sum of the sizes of all
	    memory blocks allocated for all heap generations is equal
	    to or larger than the specified size. Previously the
	    monitor message was sent if the memory block allocated
	    for the youngest generation was equal to or larger than
	    the specified size.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-6974 Aux Id: seq10796 </p>
        </li>
        <li>
          <p>
            <span class="code">inet:getopts/2</span> returned random values on Windows
            Vista.</p>
          <p>
            Own Id: OTP-7003</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Minor documentation corrections for file:pread/2 and
	    file:pread/3.</p>
          <p>
	    Own Id: OTP-6853</p>
        </li>
        <li>
          <p>
	    The deprecated functions <span class="code">file:file_info/1</span>,
	    <span class="code">init:get_flag/1</span>, <span class="code">init:get_flags/0</span>, and
	    <span class="code">init:get_args/0</span> have been removed.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-6886</p>
        </li>
        <li>
          <p>
	    Contract directives for modules in Kernel and STDLIB.</p>
          <p>
	    Own Id: OTP-6895</p>
        </li>
        <li>
	    <p>The functions io:columns/0, io:columns/1, io:rows/0
	    and io:rows/1 are added to allow the user to get
	    information about the terminal geometry. The shell takes
	    some advantage of this when formatting output. For
	    regular files and other io-devices where height and width
	    are not applicable, the functions return
	    {error,enotsup}.</p>
	    <p>Potential incompatibility: If one has written a custom
	    io-handler, the handler has to either return an error or
	    take care of io-requests regarding terminal height and
	    width. Usually that is no problem as io-handlers, as a
	    rule of thumb, should give an error reply when receiving
	    unknown io-requests, instead of crashing.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-6933</p>
        </li>
        <li>
          <p>
	    The undocumented and unsupported functions
	    <span class="code">inet:ip_to_bytes/1</span>, <span class="code">inet:ip4_to_bytes/1</span>,
	    <span class="code">inet:ip6_to_bytes/1</span>, and
	    <span class="code">inet:bytes_to_ip6/16</span> have been removed.</p>
          <p>
	    Own Id: OTP-6938</p>
        </li>
        <li>
          <p>
	    Added new checksum combine functions to <span class="code">zlib</span>. And
	    fixed a bug in <span class="code">zlib:deflate</span>. Thanks Matthew
	    Dempsky.</p>
          <p>
	    Own Id: OTP-6970</p>
        </li>
        <li>
          <p>
	    The <span class="code">spawn_monitor/1</span> and <span class="code">spawn_monitor/3</span> BIFs
	    are now auto-imported (i.e. they no longer need an
	    <span class="code">erlang:</span> prefix).</p>
          <p>
	    Own Id: OTP-6975</p>
        </li>
        <li>
	    <p>All functions in the <span class="code">code</span> module now fail with
	    an exception if they are called with obviously bad
	    arguments, such as a tuple when an atom was expected.
	    Some functions now also fail for undocumented argument
	    types (for instance, <span class="code">ensure_loaded/1</span> now only
	    accepts an atom as documented; it used to accept a string
	    too).</p>
	    <p><span class="code">Dialyzer</span> will generally emit warnings for any
	    calls that use undocumented argument types. Even if the
	    call happens to still work in R12B, you should correct
	    your code. A future release will adhere to the
	    documentation.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-6983</p>
        </li>
      </ul>
    
<h3><a name="id2292043">1.16 
        Kernel 2.11.5.2</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
            The kernel parameter dist_auto_connect once could fail to
            block a node if massive parallel sends were issued
            during a transient failure of network communication</p>
          <p>
            Own Id: OTP-6893 Aux Id: seq10753 </p>
        </li>
      </ul>
    
<h3><a name="id2292077">1.17 
        Kernel 2.11.5.1</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    The internal (rarely used) DNS resolver has been modified
	    to not use the domain search list when asked to resolve
	    an absolute name; a name with a terminating dot. There
	    was also a bug causing it to create malformed DNS queries
	    for absolute names that has been corrected, correction
	    suggested by Scott Lystig Fritchie. The code has also
	    been corrected to look up cached RRs in the same search
	    order as non-cached, now allows having the root domain
	    among the search domains, and can now actually do a zone
	    transfer request.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-6806 Aux Id: seq10714 EABln35459 </p>
        </li>
        <li>
          <p>
	    zlib:close/1 would leave an EXIT message in the message
	    queue if the calling process had the trap_exit flag
	    enabled.</p>
          <p>
	    Own Id: OTP-6811</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
	    <p>The documentation of <span class="code">process_flag(priority,
	    Level)</span> has been updated, see the <span class="code">erlang(3)</span>
	    documentation. </p>
          <p>
	    Own Id: OTP-6745 Aux Id: OTP-6715 </p>
        </li>
      </ul>
    
  <h3><a name="id2292164">1.18 
        Kernel 2.11.5</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>The shell has been updated to fix the following flaws:
            Shell process exit left you with an unresponsive initial
            shell if not using oldshell. Starting a restricted shell
            with a nonexisting callback module resulted in a shell
            where no commands could be used, not even init:stop/0.
            Fun's could not be used as parameters to local shell
            functions (in shell_default or user_default) when
            restricted_shell was active.</p>
          <p>Own Id: OTP-6537</p>
        </li>
        <li>
          <p>The undocumented feature gen_tcp:fdopen/2 was broken
            in R11B-4. It is now fixed again.</p>
          <p>Own Id: OTP-6615</p>
        </li>
        <li>
          <p>Corrected cancellation of timers in three places in the
            inet_res module. (Problem found by Dialyzer.)</p>
          <p>Own Id: OTP-6676</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>Corrected protocol layer flue for socket options
            SO_LINGER, SO_SNDBUF and SO_RCVBUF, for SCTP.</p>
          <p>Own Id: OTP-6625 Aux Id: OTP-6336 </p>
        </li>
        <li>
          <p>The behaviour of the inet option {active,once} on peer
            close is improved and documented.</p>
          <p>Own Id: OTP-6681</p>
        </li>
        <li>
          <p>The inet option send_timeout for connection oriented
            sockets is added to allow for timeouts in communicating
            send requests to the underlying TCP stack.</p>
          <p>Own Id: OTP-6684 Aux Id: seq10637 OTP-6681 </p>
        </li>
        <li>
          <p>Minor Makefile changes.</p>
          <p>Own Id: OTP-6689 Aux Id: OTP-6742 </p>
        </li>
        <li>
          <p>The documentation of <span class="code">process_flag(priority, Level)</span> has been updated, see the <span class="code">erlang(3)</span>
            documentation. </p>
          <p>Own Id: OTP-6715</p>
        </li>
      </ul>
    
  
  <h3><a name="id2292317">1.19 
        Kernel 2.11.4.2</a></h3>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>process_flag/2 accepts the new flag <span class="code">sensitive</span>.</p>
          <p>Own Id: OTP-6592 Aux Id: seq10555 </p>
        </li>
      </ul>
    
  
  <h3><a name="id2292354">1.20 
        Kernel 2.11.4.1</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>A bug in gen_udp:open that broke the 'fd' option has been
            fixed.</p>
          <p>Own Id: OTP-6594 Aux Id: seq10619 </p>
        </li>
      </ul>
    
  
  <h3><a name="id2292388">1.21 
        Kernel 2.11.4</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>Added a warning to the documentation for the
            <span class="code">error_logger</span> functions <span class="code">error_msg/1,2</span>,
            <span class="code">warning_msg/1,2</span> and <span class="code">info_msg/1,2</span> that
            calling these function with bad arguments can crash the
            standard event handler.</p>
          <p>Own Id: OTP-4575 Aux Id: seq7693 </p>
        </li>
        <li>
          <p>A bug in <span class="code">inet_db</span> concerning getting the resolver
            option <span class="code">retry</span> has been corrected.</p>
          <p>Own Id: OTP-6380 Aux Id: seq10534 </p>
        </li>
        <li>
          <p>Names registered by calling
            <span class="code">global:register_name()</span> or
            <span class="code">global:re_register_name()</span> were not always
            unregistered when the registering or registered process
            died. This bug has been fixed.</p>
          <p>Own Id: OTP-6428</p>
        </li>
        <li>
          <p>When setting the kernel configuration parameter
            <span class="code">error_logger</span> to <span class="code">false</span>, the documentation
            stated that "No error logger handler is installed". This
            is true, but error logging is not turned off, as the
            initial, primitive error logger event handler is kept,
            printing raw event messages to tty.</p>
          <p>Changing this behavior can be viewed as a backward
            incompatible change. Instead a new value <span class="code">silent</span>
            for the configuration parameter has been added, which
            ensures that error logging is completely turned off.</p>
          <p>Own Id: OTP-6445</p>
        </li>
        <li>
          <p>Clarified the documentation for <span class="code">code:lib_dir/1</span> and
            <span class="code">code:priv_dir/1</span>. The functions traverse the names
            of the code path, they do not search the actual
            directories.</p>
          <p>Own Id: OTP-6466</p>
        </li>
        <li>
          <p><span class="code">io:setopts</span> returned <span class="code">{error,badarg}</span>, when
            called with only an <span class="code">expand_fun</span> argument. (Thanks to
            igwan.)</p>
          <p>Own Id: OTP-6508</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>An interface towards the SCTP Socket API Extensions
            has been implemented.It is an Open Source patch courtesy
            of Serge Aleynikov and Leonid Timochouk. The Erlang code
            parts has been adapted by the OTP team, changing the
            Erlang API somewhat.</p>
          <p>The Erlang interface consists of the module
            <span class="code">gen_sctp</span> and an include file
            <span class="code">-include_lib("kernel/include/inet_sctp.hrl").</span> for
            option record definitions. The <span class="code">gen_sctp</span> module is
            documented.</p>
          <p>The delivered Open Source patch, before the OTP team
            rewrites, was written according to
            <span class="bold_code">
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13</a></span>
            and was claimed to work fine, tested on Linux Fedora Core
            5.0 (kernel 2.6.15-2054 or later) and on Solaris 10 and
            11. The OTP team rewrites used the same standard document
            but might have accidentally broken some functionality. If
            so, it will soon be patched to working state. The tricky
            parts in C and the general design has essentially not
            changed. During the rewrites the code was hand tested on
            SuSE Linux Enterprise Server 10, and briefly on Solaris
            10. Feedbach on code and docs is very much
            appreciated.</p>
          <p>The SCTP interface is in beta state. It has only been
            hand tested and has no automatic test suites in OTP
            meaning everything is most certainly not tested. Socket
            active mode is broken. IPv6 is not tested. The documentation
            has been reworked due to the API changes,
            but has not been proofread after this.</p>
          <p>Thank you from the OTP team to Serge Aleynikov and
            Leonid Timochouk for a valuable contribution. We hope we
            have not messed it up too much.</p>
          <p>Own Id: OTP-6336</p>
        </li>
        <li>
          <p>A <span class="code">{minor_version,Version}</span> option is now recognized
            by <span class="code">term_to_binary/2</span>. {minor_version,1} will cause
            floats to be encoded in an exact and more space-efficient
            way compared to the previous encoding.</p>
          <p>Own Id: OTP-6434</p>
        </li>
        <li>
          <p>Monitoring of nodes has been improved. Now the following
            properties apply to
            <span class="code">net_kernel:monitor_nodes/[1,2]</span>:</p>
          <ul>
            <li>
<span class="code">nodeup</span> messages will be delivered before delivery
             of any message from the remote node passed through the
             newly established connection. </li>
            <li>
<span class="code">nodedown</span> messages will not be delivered until all
             messages from the remote node that have been passed
             through the connection have been delivered. </li>
            <li>Subscriptions can also be made before the
            <span class="code">net_kernel</span> server has been started. </li>
          </ul>
          <p>Own Id: OTP-6481</p>
        </li>
        <li>
          <p>Setting and getting socket options in a "raw" fashion is
            now allowed. Using this feature will inevitably produce
            non portable code, but will allow setting ang getting
            arbitrary uncommon options on TCP stacks that do have
            them.</p>
          <p>Own Id: OTP-6519</p>
        </li>
        <li>
          <p>Dialyzer warnings have been eliminated.</p>
          <p>Own Id: OTP-6523</p>
        </li>
        <li>
          <p>The documentation for <span class="code">file:delete/1</span> and
            <span class="code">file:set_cwd/1</span> has been updated to clarify what
            happens if the input arguments are of an incorrect type.</p>
          <p>Own Id: OTP-6535</p>
        </li>
      </ul>
    
  
  <h3><a name="id2289043">1.22 
        Kernel 2.11.3.1</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>An erroneous packet size could be used for the first
            messages passed through a newly established connection
            between two Erlang nodes. This could cause messages to be
            discarded, or termination of the connection.</p>
          <p>Own Id: OTP-6473</p>
        </li>
      </ul>
    
  
  <h3><a name="id2289080">1.23 
        Kernel 2.11.3</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>On Unix, the <span class="code">unix:cmd/1</span> function could leave an
            'EXIT' message in the message queue for the calling
            process That problem was more likely to happen in an SMP
            emulator.</p>
          <p>Own Id: OTP-6368</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>More interfaces are added in erl_ddll, to support
            different usage scenarios.</p>
          <p>Own Id: OTP-6307 Aux Id: OTP-6234 </p>
        </li>
        <li>
          <p>Locks set by calling <span class="code">global:set_lock()</span> were not
            always deleted when the locking process died. This bug
            has been fixed.</p>
          <p>Own Id: OTP-6341 Aux Id: seq10445 </p>
        </li>
      </ul>
    
  
  <h3><a name="id2289164">1.24 
        Kernel 2.11.2</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>Behavior in case of disappeared nodes when using he
            dist_auto_connect once got changed in R11B-1. The
            timeouts regarding normal distributed operations is now
            reverted to the old (pre R11B-1).</p>
          <p>Own Id: OTP-6258 Aux Id: OTP-6200, seq10449 </p>
        </li>
        <li>
          <p>Start-up problems for the internal process used by the
            <span class="code">inet:gethostbyname()</span> functions were eliminated. If
            the internal process (<span class="code">inet_gethost_native</span>) had not
            previously been started, and if several processes at the
            same time called one of the <span class="code">inet:gethostbyname()</span>
            functions, the calls could fail.</p>
          <p>Own Id: OTP-6286</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>Code cleanup: the old internal obsolete file_server has
            been removed. It was only used when communicating with R7
            and older nodes.</p>
          <p>Own Id: OTP-6245</p>
        </li>
        <li>
          <p>Trying to open a non-existent or badly formed disk log
            no longer results in a crash report. In particular,
            <span class="code">ets:file2tab/1</span> reports no error when the argument
            is not a well-formed disk log file. (The return value has
            not been changed, it is still an error tuple.)</p>
          <p>Own Id: OTP-6278 Aux Id: seq10421 </p>
        </li>
        <li>
          <p>There are new BIFs <span class="code">erlang:spawn_monitor/1,3</span>,
            and the new option <span class="code">monitor</span> for
            <span class="code">spawn_opt/2,3,4,5</span>.</p>
          <p>The <span class="code">observer_backend</span> module has been updated to
            handle the new BIFs.</p>
          <p>Own Id: OTP-6281</p>
        </li>
        <li>
          <p>To help Dialyzer find more bugs, many functions in the
            Kernel and STDLIB applications now only accept arguments
            of the type that is documented.</p>
          <p>For instance, the functions <span class="code">lists:prefix/2</span> and
            <span class="code">lists:suffix/2</span> are documented to only accept lists
            as their arguments, but they actually accepted anything
            and returned <span class="code">false</span>. That has been changed so that
            the functions cause an exception if one or both arguments
            are not lists.</p>
          <p>Also, the <span class="code">string:strip/3</span> function is documented
            to take a character argument that is a character to strip
            from one or both ends of the string. Given a list instead
            of a character, it used to do nothing, but will now cause
            an exception.</p>
          <p>Dialyzer will find most cases where those functions
            are passed arguments of the wrong type.</p>
          <p>*** POTENTIAL INCOMPATIBILITY ***</p>
          <p>Own Id: OTP-6295</p>
        </li>
      </ul>
    
  
  <h3><a name="id2289363">1.25 
        Kernel 2.11.1.1</a></h3>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>There is now an option read_packets for UDP sockets that
            sets the maximum number of UDP packets that will be read
            for each invocation of the socket driver.</p>
          <p>Own Id: OTP-6249 Aux Id: seq10452 </p>
        </li>
      </ul>
    
  
  <h3><a name="id2289399">1.26 
        Kernel 2.11.1</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>In R11B-0, the erl_ddll server process is always started.
            Despite that, the configuration parameter
            <span class="code">start_ddll</span> for the Kernel application was still
            obeyed, which would cause the erl_ddll server to be
            started TWICE (and the system shutting down as a result).
            In this release, <span class="code">start_ddll</span> is no longer used and
            its documentation has been removed.</p>
          <p>Own Id: OTP-6163</p>
        </li>
        <li>
          <p>The kernel option {dist_auto_connect,once} could block
            out nodes that had never been connected, causing
            persistent partitioning of networks. Furthermore, partial
            restarts of networks could cause inconsistent global name
            databases. Both problems are now solved.</p>
          <p>Own Id: OTP-6200 Aux Id: seq10377 </p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>Late arriving tcp_closed and udp_closed messages are now
            removed from the message queue of a process calling
            gen_tcp:close/1, gen_udp:close/1, and inet:close/1.</p>
          <p>Own Id: OTP-6197</p>
        </li>
      </ul>
    
  
  <h3><a name="id2289490">1.27 
        Kernel 2.11</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>When repairing a disk log with a corrupt index file
            (caused by for instance a hard disk failure) the old
            contents of the index file is kept unmodified. This will
            make repeated attempts to open the disk log fail every
            time.</p>
          <p>Own Id: OTP-5558 Aux Id: seq9823 </p>
        </li>
        <li>
          <p>Previously <span class="code">unlink/1</span> and <span class="code">erlang:demonitor/2</span>
            behaved completely asynchronous. This had one undesirable
            effect, though. You could never know when you were
            guaranteed <strong>not</strong> to be affected by a link that you
            had unlinked or a monitor that you had demonitored.</p>
          <p>The new behavior of <span class="code">unlink/1</span> and
            <span class="code">erlang:demonitor/2</span> can be viewed as two operations
            performed atomically. Asynchronously send an unlink
            signal or a demonitor signal, and ignore any future
            results of the link or monitor.</p>
          <p><strong>NOTE</strong>: This change can cause some obscure code
            to fail which previously did not. For example, the
            following code might hang:</p>
          <div class="example"><pre>
            Mon = erlang:monitor(process, Pid),
            %% ...
            exit(Pid, bang),
            erlang:demonitor(Mon),
            receive
                {'DOWN', Mon, process, Pid, _} -&gt; ok
            %% We were previously guaranteed to get a down message
            %% (since we exited the process ourself), so we could
            %% in this case leave out:
            %% after 0 -&gt; ok
            end,
          </pre></div>
          <p>*** POTENTIAL INCOMPATIBILITY ***</p>
          <p>Own Id: OTP-5772</p>
        </li>
        <li>
          <p>The behavior when an application fails to start and
            possibly causes the runtime system to halt has been
            cleaned up, including fixing some minor bugs.</p>
          <p><span class="code">application_controller</span> should now always terminate
            with a non-nested string, meaning the slogan in an
            <span class="code">erl_crash.dump</span> should always be easy to read.</p>
          <p><span class="code">init</span> now makes sure that the slogan passed to
            <span class="code">erlang:halt/1</span> does not exceed the maximum allowed
            length.</p>
          <p>Redundant calls to <span class="code">list_to_atom/1</span> has been removed
            from the primitive <span class="code">error_logger</span> event handler.
            (Thanks Serge Aleynikov for pointing this out).</p>
          <p>The changes only affects the contents of the error
            messages and crashdump file slogan.</p>
          <p>Own Id: OTP-5964</p>
        </li>
        <li>
          <p>The <span class="code">erl_ddll</span> server is now started when OTP is
            started and placed under the Kernel supervisor. This
            fixes several minor issues. It used to be started on
            demand.</p>
          <p>The documentation for the <span class="code">start</span> and <span class="code">stop</span>
            functions in the <span class="code">erl_ddll</span> module has been removed,
            as those functions are not meant to be used by other
            applications.</p>
          <p>Furthermore, the <span class="code">erl_ddll:stop/1</span> function no longer
            terminates the <span class="code">erl_ddll</span> server, as that would
            terminate the entire runtime system.</p>
          <p>Own Id: OTP-6033</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>Removed some unused functions from
            <span class="code">application_master</span>.</p>
          <p>Own Id: OTP-3889</p>
        </li>
        <li>
          <p>Global no longer allows the registration of a process
            under more than one name. If the old (buggy) behavior is
            desired the Kernel application variable
            <span class="code">global_multi_name_action</span> can be given the value
            <span class="code">allow</span>.</p>
          <p>Own Id: OTP-5640 Aux Id: OTP-5603</p>
        </li>
        <li>
          <p>The (slightly misleading) warnings that was shown when
            the <span class="code">erlang.erl</span> file was compiled has been
            eliminated.</p>
          <p>Own Id: OTP-5947</p>
        </li>
        <li>
          <p>The <span class="code">auth</span> module API is deprecated.</p>
          <p>Own Id: OTP-6037</p>
        </li>
        <li>
          <p>Added <span class="code">erlang:demonitor/2</span>, making it possible to at
            the same time flush a received <span class="code">'DOWN'</span> message, if
            there is one. See <span class="code">erlang(3)</span>.</p>
          <p>Own Id: OTP-6100 Aux Id: OTP-5772 </p>
        </li>
      </ul>
    
  
  <h3><a name="id2289809">1.28 
        Kernel 2.10.13</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>Large files (more than 2 GBytes) are now handled on
            Solaris 8.</p>
          <p>Own Id: OTP-5849 Aux Id: seq10157</p>
        </li>
        <li>
          <p>During startup, a garbage <span class="code">{'DOWN', ...}</span> message was
            left by <span class="code">inet_gethost_native</span>, that caused problems
            for the starting code server.</p>
          <p>Own Id: OTP-5978 Aux Id: OTP-5974</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p><span class="code">global</span> now makes several attempts to connect nodes
            when maintaining the fully connected network. More than one
            attempt is sometimes needed under very heavy load.</p>
          <p>Own Id: OTP-5889</p>
        </li>
        <li>
          <p><span class="code">erl_epmd</span> now explicitly sets the timeout to
            <span class="code">infinity</span> when calling <span class="code">gen_server:call</span>. The
            old timeout of 15 seconds could time out under very heavy
            load.</p>
          <p>Own Id: OTP-5959</p>
        </li>
        <li>
          <p>Corrected the start of code server to use reference-tagged
            tuples to ensure that an unexpected message sent to
            the parent process does not cause a halt of the system.
            Also removed the useless <span class="code">start/*</span> functions in both
            <span class="code">code.erl</span> and <span class="code">code_server.erl</span> and no longer
            exports the <span class="code">init</span> function from
            <span class="code">code_server.erl</span>.</p>
          <p>Own Id: OTP-5974 Aux Id: seq10243, OTP-5978</p>
        </li>
      </ul>
    
  
  <h3><a name="id2289953">1.29 
        Kernel 2.10.12</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>A bug in <span class="code">global</span> has been fixed: the locker process
            added <span class="code">nonode@nohost</span> to the list of nodes to lock.
            This could happen before any nodes got known to the global
            name server. Depending on net configuration the symptom was
            a delay.</p>
          <p>Own Id: OTP-5792 Aux Id: OTP-5563</p>
        </li>
        <li>
          <p>If an <span class="code">.app</span> file is missing, the error reason
            returned by <span class="code">application:load/1</span> has been corrected
            to <span class="code">{"no such file or directory", "FILE.app"}</span>,
            instead of the less informative <span class="code">{"unknown POSIX error","FILE.app"}</span>.</p>
          <p>Own Id: OTP-5809</p>
        </li>
        <li>
          <p>Bug fixes: <span class="code">disk_log:accessible_logs/0</span> no longer
            reports all <span class="code">pg2</span> process groups as distributed disk
            logs; <span class="code">disk_log:pid2name/1</span> did not recognize
            processes of distributed disk logs.</p>
          <p>Own Id: OTP-5810</p>
        </li>
        <li>
          <p>The functions <span class="code">file:consult/1</span>,
            <span class="code">file:path_consult/2</span>, <span class="code">file:eval/1,2</span>,
            <span class="code">file:path_eval/2,3</span>, <span class="code">file:script/1,2</span>,
            <span class="code">file:path_script/2,3</span> now return correct line
            numbers in error tuples.</p>
          <p>Own Id: OTP-5814</p>
        </li>
        <li>
          <p>If there were user-defined variables in the boot script,
            and their values were not provided using
            the <span class="code">-boot_var</span> option, the emulator would refuse to
            start with a confusing error message. Corrected to show a
            clear, understandable message.</p>
          <p>The <span class="code">prim_file</span> module was modified to not depend
            on the <span class="code">lists</span> module, to make it possible to start
            the emulator using a user-defined loader. (Thanks to
            Martin Bjorklund.)</p>
          <p>Own Id: OTP-5828 Aux Id: seq10151</p>
        </li>
        <li>
          <p>Minor corrections in the description of open modes.
            (Thanks to Richard Carlsson.)</p>
          <p>Own Id: OTP-5856</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p><span class="code">application_controller</span> now terminates with the
            actual error reason, instead of <span class="code">shutdown</span>. This
            means that the crash dump now should be somewhat more
            informative, in the case where the runtime system is
            terminated due to an error in an application.</p>
          <p>Example: If the (permanent) application <span class="code">app1</span> fails
            to start, the slogan now will be: "<span class="code">Kernel pid terminated (application_controller) ({application_start_failure,app1,{shutdown, {app1,start,[normal,[]]}}})</span>"</p>
          <p>rather than the previous "<span class="code">Kernel pid terminated (application_controller) (shutdown)</span>".</p>
          <p>Own Id: OTP-5811</p>
        </li>
      </ul>
    
  
  <h3><a name="id2257707">1.30 
        Kernel 2.10.11.1</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>Timers could sometimes timeout too early. This bug has
            now been fixed.</p>
          <p>Automatic cancellation of timers created by
            <span class="code">erlang:send_after(Time,</span> pid(), Msg), and
            <span class="code">erlang:start_timer(Time,</span> pid(), Msg) has been
            introduced.
            Timers created with the receiver specified by a pid, will
            automatically be cancelled when the receiver exits. For
            more information see the <span class="code">erlang(3)</span> man page.</p>
          <p>In order to be able to maintain a larger amount of timers
            without increasing the maintenance cost, the internal
            timer wheel and bif timer table have been enlarged.</p>
          <p>Also a number of minor bif timer optimizations have been
            implemented.</p>
          <p>Own Id: OTP-5795 Aux Id: OTP-5090, seq8913, seq10139,
            OTP-5782</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>Documentation improvements:</p>
          <p>- documentation for <span class="code">erlang:link/1</span> corrected</p>
          <p>- command line flag <span class="code">-code_path_cache</span> added</p>
          <p>- <span class="code">erl</span> command line flags clarifications</p>
          <p>- <span class="code">net_kernel(3)</span> clarifications</p>
          <p>Own Id: OTP-5847</p>
        </li>
      </ul>
    
  
  <h3><a name="id2257830">1.31 
        Kernel 2.10.11</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>Several bug fixes and improvements in the global name
            registration facility (see <span class="code">global(3)</span>):</p>
          <ul>
            <li>the name resolving procedure did not always unlink no
             longer registered processes;</li>
            <li>the global name could sometimes hang when a
            <span class="code">nodedown</span> was immediately followed by a
            <span class="code">nodeup</span>;</li>
            <li>global names were not always unregistered when a node
             went down;</li>
            <li>it is now possible to set and delete locks at
             the same time as the global name server is resolving
             names--the handling of global locks has been separated
             from registration of global names;</li>
          </ul>
          <p>As of this version, <span class="code">global</span> no longer supports nodes
            running Erlang/OTP R7B or earlier.</p>
          <p>*** POTENTIAL INCOMPATIBILITY ***</p>
          <p>Own Id: OTP-5563</p>
        </li>
        <li>
          <p>The functions <span class="code">global:set_lock/3</span> and
            <span class="code">global:trans/4</span> now accept the value <span class="code">0</span>
            (zero) of the <span class="code">Retries</span> argument.</p>
          <p>Own Id: OTP-5737</p>
        </li>
        <li>
          <p>The <span class="code">inet:getaddr(Addr, Family)</span> no longer
            validates the <span class="code">Addr</span> argument if it is a 4 or 8
            tuple containing the IP address, except for the size of
            the tuple and that it contains integers in the correct
            range.</p>
          <p>The reason for the change is that validation could
            cause the following sequence of calls to fail:</p>
          <p><span class="code">{ok,Addr} = inet:getaddr(localhost, inet6), gen_tcp:connect(Addr, 7, [inet6])</span></p>
          <p>Own Id: OTP-5743</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>The previously undocumented and UNSUPPORTED <span class="code">zlib</span>
            module has been updated in an incompatible way and many
            bugs have been corrected. It is now also documented.</p>
          <p>*** POTENTIAL INCOMPATIBILITY ***</p>
          <p>Own Id: OTP-5715</p>
        </li>
        <li>
          <p>Added <span class="code">application</span> interface functions
            <span class="code">which_applications/1</span>, <span class="code">set_env/4</span> and
            <span class="code">unset_env/3</span>, which take an additional
            <span class="code">Timeout</span> argument. To be used in situations where
            the standard gen_server timeout (5000ms) is not adequate.</p>
          <p>Own Id: OTP-5724 Aux Id: seq10083</p>
        </li>
        <li>
          <p>Improved documentation regarding synchronized start of
            applications with included applications (using start
            phases and <span class="code">application_starter</span>).</p>
          <p>Own Id: OTP-5754</p>
        </li>
        <li>
          <p>New socket options <span class="code">priority</span> and <span class="code">tos</span> for
            platforms that support them (currently only Linux).</p>
          <p>Own Id: OTP-5756</p>
        </li>
        <li>
          <p>The global name server has been optimized when it comes
            to maintaining a fully connected network.</p>
          <p>Own Id: OTP-5770</p>
        </li>
      </ul>
    
  
  <h3><a name="id2258099">1.32 
        Kernel 2.10.10.1</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>The native resolver has gotten an control API for
            extended debugging and soft restart. It is:
            <span class="code">inet_gethost_native:control(Control)</span>            <br>
<span class="code">Control = {debug_level,Level} | soft_restart</span>            <br>
<span class="code">Level = integer() in the range 0-4</span>.</p>
          <p>Own Id: OTP-5751 Aux Id: EABln25013</p>
        </li>
      </ul>
    
  
  <h3><a name="id2258151">1.33 
        Kernel 2.10.10</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>If several processes (at the same node) simultaneously
            tried to start the same distributed application, this
            could lead to <span class="code">application:start</span> returning an
            erroneous value, or even hang.</p>
          <p>Own Id: OTP-5606 Aux Id: seq9838</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>The manual pages for most of the Kernel and some of
            the STDLIB modules have been updated, in particular
            regarding type definitions.</p>
          <p>The documentation of the return value for
            <span class="code">erts:info/1</span> has been corrected.</p>
          <p>The documentation for <span class="code">erlang:statistics/1</span> now
            lists all possible arguments.</p>
          <p>Own Id: OTP-5360</p>
        </li>
        <li>
          <p>When the native resolver fails a <span class="code">gethostbyaddr</span>
            lookup, <span class="code">nxdomain</span> should be returned. There should be
            no attempt to fallback on a routine that succeeds if only
            the syntax of the IP address is valid. This has been fixed.</p>
          <p>Own Id: OTP-5598 Aux Id: OTP-5576</p>
        </li>
        <li>
          <p>Replaced some tuple funs with the new <span class="code">fun M:F/A</span>
            construct.</p>
          <p>The high-order functions in the <span class="code">lists</span> module no
            longer accept bad funs under any circumstances.
            '<span class="code">lists:map(bad_fun, [])</span>' used to return
            '<span class="code">[]</span>' but now causes an exception.</p>
          <p>Unused, broken compatibility code in the <span class="code">ets</span>
            module was removed. (Thanks to Dialyzer.)</p>
          <p>Eliminated 5 discrepancies found by Dialyzer in the
            Appmon application.</p>
          <p>Own Id: OTP-5633</p>
        </li>
        <li>
          <p>The possibility to have comments following the list of
            tuples in a config file (file specified with
            the <span class="code">-config</span> flag) has been added.</p>
          <p>Own Id: OTP-5661 Aux Id: seq10003</p>
        </li>
      </ul>
    
  
  <h3><a name="id2258324">1.34 
        Kernel 2.10.9</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>'<span class="code">erl -config sys.config</span>' would fail to start if
            the <span class="code">sys.config</span> file did not contain any whitespace
            at all after the dot. (Thanks to Anders Nygren.)</p>
          <p>Own Id: OTP-5543</p>
        </li>
        <li>
          <p>A bug regarding tcp sockets which results in hanging
            <span class="code">gen_tcp:send/2</span> has been corrected. To encounter
            this bug you needed one process that read from a socket,
            one that wrote more date than the reader read out so the
            sender got suspended, and then the reader closed the
            socket. (Reported and diagnosed by Alexey Shchepin.)</p>
          <p>Corrected a bug in the (undocumented and unsupported)
            option <span class="code">{packet,http}</span> for <span class="code">gen_tcp.</span>
            (Thanks to Claes Wikstrom and Luke Gorrie.)</p>
          <p>Updated the documentation regarding the second argument to
            <span class="code">gen_tcp:recv/2</span>, the <span class="code">Length</span> to receive.</p>
          <p>Own Id: OTP-5582 Aux Id: seq9839</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>At startup, the Erlang resolver hosts table was used to
            look up the name of the local (and possibly stand alone)
            host. This was incorrect. The configured resolver method
            is now used for this purpose.</p>
          <p>Own Id: OTP-5393</p>
        </li>
        <li>
          <p>The <span class="code">erlang:port_info/1</span> BIF is now documented. Minor
            corrections of the documentation for
            <span class="code">erlang:port_info/2</span>.</p>
          <p>Added a note to the documentation of the <span class="code">math</span> module
            that all functions are not available on all platforms.</p>
          <p>Added more information about the <span class="code">+c</span> option in
            the <span class="code">erl</span> man page in the ERTS documentation.</p>
          <p>Own Id: OTP-5555</p>
        </li>
        <li>
          <p>The new <span class="code">fun M:F/A</span> construct creates a fun that
            refers to the latest version of <span class="code">M:F/A.</span> This syntax is
            meant to replace tuple funs <span class="code">{M,F}</span> which have many
            problems.</p>
          <p>The new type test <span class="code">is_function(Fun,A)</span> (which may be
            used in guards) test whether <span class="code">Fun</span> is a fun that can be
            applied with <span class="code">A</span> arguments. (Currently, <span class="code">Fun</span> can
            also be a tuple fun.)</p>
          <p>Own Id: OTP-5584</p>
        </li>
        <li>
          <p>According to the documentation <span class="code">global</span> implements
            the equivalent of <span class="code">register/2</span>, which returns
            <span class="code">badarg</span> if a process is already registered. As it
            turns out there is no check in <span class="code">global</span> if a process is
            registered under more than one name. If some process is
            accidentaly or by design given several names, it is
            possible that the name registry becomes inconsistent due
            to the way the resolve function is called when name
            clashes are discovered (see <span class="code">register_name/3</span> in
            <span class="code">global(3)</span>).</p>
          <p>In OTP R11B <span class="code">global</span> will not allow the registration of
            a process under more than one name. To help finding code
            where <span class="code">no</span> will be returned, a Kernel application
            variable, <span class="code">global_multi_name_action</span>, is hereby
            introduced. Depending on its value (<span class="code">info</span>,
            <span class="code">warning</span>, or <span class="code">error</span>), messages are sent to
            the error logger when <span class="code">global</span> discovers that some
            process is given more than one name. The variable only
            affects the node where it is defined.</p>
          <p>Own Id: OTP-5603</p>
        </li>
      </ul>
    
  
  <h3><a name="id2258609">1.35 
        Kernel 2.10.8</a></h3>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>In case of a DNS lookup loop, <span class="code">inet_db:getbyname</span> ends
            up building an infinite list. This has been fixed.</p>
          <p>Own Id: OTP-5449</p>
        </li>
        <li>
          <p>When doing an <span class="code">inet6</span> name lookup on an IPv4 address
            it was possible to get an address on IPv4 format back. This
            has been corrected. Some other minor inconsistencies
            regarding IPv6 name lookup have also been corrected.</p>
          <p>Own Id: OTP-5576</p>
        </li>
      </ul>
    
  
  <h3><a name="id2269598">1.36 
        Kernel 2.10.7</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>Under certain circumstances the <span class="code">net_kernel</span> could
            emit spurious nodedown messages. This bug has been fixed.</p>
          <p>Own Id: OTP-5396</p>
        </li>
        <li>
          <p>Removed description of the <span class="code">keep_zombies</span>
            configuration parameter in the <span class="code">kernel</span> man page.</p>
          <p>Own Id: OTP-5497</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>Eliminated Dialyzer warnings (caused by dead code) in
            the <span class="code">init</span> and <span class="code">prim_file</span> modules.</p>
          <p>Own Id: OTP-5496</p>
        </li>
        <li>
          <p><span class="code">inet_config</span> now also checks the environment variable
            <span class="code">ERL_INETRC</span> for a possible user configuration file.
            See the ERTS User's Guide for details.</p>
          <p>Own Id: OTP-5512</p>
        </li>
      </ul>
    
  
  <h3><a name="id2269709">1.37 
        Kernel 2.10.6</a></h3>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>The <span class="code">c</span> option for the <span class="code">+B</span> flag has been
            introduced which makes it possible to use Ctrl-C
            (Ctrl-Break on Windows) to interrupt the shell process
            rather than to invoke the emulator break handler. All new
            <span class="code">+B</span> options are also supported on Windows (werl) as
            of now. Furthermore, Ctrl-C on Windows has now been
            reserved for copying text (what Ctrl-Ins was used for
            previously). Ctrl-Break should be used for break handling.
            Lastly, the documentation of the system flags has been
            updated.</p>
          <p>Own Id: OTP-5388</p>
        </li>
        <li>
          <p>The possibility to start the Erlang shell in parallel
            with the rest of the system was reintroduced for backwards
            compatibility in STDLIB 1.13.1. The flag to be used for
            this is now called <span class="code">async_shell_start</span> and has
            been documented. New shells started from the JCL menu are
            not synchronized with <span class="code">init</span> anymore. This makes it
            possible to start a new shell (e.g. for debugging purposes)
            even if the initial shell has not come up.</p>
          <p>Own Id: OTP-5406 Aux Id: OTP-5218</p>
        </li>
      </ul>
    
  
  <h3><a name="id2269789">1.38 
        Kernel 2.10.5</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>Documentation for <span class="code">erlang:binary_to_float/1</span> deleted.
            The BIF itself was removed several releases ago.</p>
          <p>Updated documentation for <span class="code">apply/2</span> and
            <span class="code">apply/3</span>.</p>
          <p>Own Id: OTP-5391</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p><span class="code">net_kernel:monitor_nodes/2</span> which takes a flag and an
            option list has been added. By use of
            <span class="code">net_kernel:monitor_nodes/2</span> one can subscribe for
            <span class="code">nodeup/nodedown</span> messages with extra information. It
            is now possible to monitor hidden nodes, and get
            <span class="code">nodedown</span> reason. See the <span class="code">net_kernel(3)</span>
            documentation for more information.</p>
          <p>Own Id: OTP-5374</p>
        </li>
      </ul>
    
  
  <h3><a name="id2269886">1.39 
        Kernel 2.10.4</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>The application master for an application now terminates
            the application faster, which reduces the risk for
            timeouts in other parts of the system.</p>
          <p>Own Id: OTP-5363 Aux Id: EABln19084</p>
        </li>
        <li>
          <p>A BIF <span class="code">erlang:raise/3</span> has been added. See the manual
            for details. It is intended for internal system programming
            only, advanced error handling.</p>
          <p>Own Id: OTP-5376 Aux Id: OTP-5257</p>
        </li>
      </ul>
    
  
  <h3><a name="id2269940">1.40 
        Kernel 2.10.3</a></h3>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>With the <span class="code">-eval</span> flag (<span class="code">erl -eval Expr</span>), an
            arbitrary expression can be evaluated during system
            initialization. This is documented in <span class="code">init(3)</span>.</p>
          <p>Own Id: OTP-5260</p>
        </li>
        <li>
          <p>The unsupported and undocumented modules <span class="code">socks5</span>,
            <span class="code">socks5_auth</span>, <span class="code">socks5_tcp</span>, and <span class="code">socks5_udp</span>
            have been removed.</p>
          <p>Own Id: OTP-5266</p>
        </li>
      </ul>
    
  
  <h3><a name="id2270013">1.41 
        Kernel 2.10.1</a></h3>
    
    <h4>Fixed Bugs and Malfunctions</h4>
      
      <ul>
        <li>
          <p>The Pman 'trace shell' functionality was broken and has
            now been fixed. Furthermore, Pman could not correctly
            find the pid of the active shell if more than one shell
            process was running on the node. This has also been
            corrected.</p>
          <p>Own Id: OTP-5191</p>
        </li>
        <li>
          <p>The documentation for the <span class="code">auth:open/1</span> function
            which no longer exists has been removed. (Thanks to
            Miguel Barreiro.)</p>
          <p>Own Id: OTP-5208</p>
        </li>
        <li>
          <p>Corrected the <span class="code">crc32/3</span> function in the undocumented
            and unsupported <span class="code">zlib</span> module.</p>
          <p>Own Id: OTP-5227</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      
      <ul>
        <li>
          <p>You can now start Erlang with the <span class="code">-rsh</span> flag which
            gives you a remote initial shell instead of a local one.
            Example:</p>
          <div class="example"><pre>
            erl -sname this_node -rsh other_node@other_host
          </pre></div>
          <p>Own Id: OTP-5210</p>
        </li>
        <li>
          <p>If <span class="code">/etc/hosts</span> specified two hosts with the same IP
            address (on separate lines), only the last host would be
            registered by inet_db during inet configuration. This has
            been corrected now so that both aliases are registered
            with the same IP address.</p>
          <p>Own Id: OTP-5212 Aux Id: seq7128</p>
        </li>
        <li>
          <p>The documentation for BIFs that take I/O lists have
            been clarified. Those are <span class="code">list_to_binary/1</span>,
            <span class="code">port_command/2</span>, <span class="code">port_control/3</span>.</p>
          <p>Documentation for all <span class="code">is_*</span> BIFs (such as
            <span class="code">is_atom/1</span>) has been added.</p>
          <p>Removed the documentation for
            <span class="code">erlang:float_to_binary/2</span> which was removed from
            the run-time system several releases ago.</p>
          <p>Own Id: OTP-5222</p>
        </li>
      </ul>
    
  
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2009 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-3045895-1";
urchinTracker();
</script> 
</body>
</html>
