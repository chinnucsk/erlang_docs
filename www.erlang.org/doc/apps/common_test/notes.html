<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../otp_doc.css" type="text/css">
<title>Erlang -- Common Test Release Notes</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../../../doc/js/erlresolvelinks.js"></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../../erlang-logo.png"><br><small>
<a href="users_guide.html">User's Guide</a><br>
<a href="index.html">Reference Manual</a><br>
<a href="release_notes.html">Release Notes</a><br>
<a href="common_test.pdf">PDF</a><br>
<a href="../../index.html">Top</a></small><p><strong>Common Test</strong><br><strong>Release Notes</strong><br><small>Version 1.4.6</small></p>
<br>
<a href="javascript:openAllFlips()">Expand All</a><br>
<a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Chapters</strong></small></p>
<ul class="flipMenu" imagepath="../../../../doc/js/flipmenu"><li title="Common Test Release Notes" expanded="true">Common Test Release Notes<ul>
<li>
<a href="notes.html">
              Top of chapter
            </a></li>
<li title="Common_Test 1.4.6">
<a href="notes.html#id2251914">Common_Test 1.4.6</a></li>
<li title="Common_Test 1.4.5">
<a href="notes.html#id2262853">Common_Test 1.4.5</a></li>
<li title="Common_Test 1.4.2">
<a href="notes.html#id2253006">Common_Test 1.4.2</a></li>
<li title="Common_Test 1.4.1">
<a href="notes.html#id2253037">Common_Test 1.4.1</a></li>
<li title="Common_Test 1.4">
<a href="notes.html#id2259360">Common_Test 1.4</a></li>
<li title="Common_Test 1.3.6">
<a href="notes.html#id2259464">Common_Test 1.3.6</a></li>
<li title="Common_Test 1.3.5">
<a href="notes.html#id2257433">Common_Test 1.3.5</a></li>
<li title="Common_Test 1.3.4">
<a href="notes.html#id2251673">Common_Test 1.3.4</a></li>
<li title="Common_Test 1.3.3">
<a href="notes.html#id2251711">Common_Test 1.3.3</a></li>
<li title="Common_Test 1.3.2">
<a href="notes.html#id2251756">Common_Test 1.3.2</a></li>
<li title="Common_Test 1.3.1">
<a href="notes.html#id2251790">Common_Test 1.3.1</a></li>
<li title="common_test 1.3.0">
<a href="notes.html#id2252250">common_test 1.3.0</a></li>
</ul>
</li></ul>
</div></div>
<div id="content">
<div class="innertube">
<h1>1 Common Test Release Notes</h1>
  
<h3><a name="id2251914">1.1 
        Common_Test 1.4.6</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    If the init_per_testcase/2 function fails, the test case
	    now gets marked and counted as auto skipped, not user
	    skipped (which would previously happen).</p>
          <p>
	    Own Id: OTP-8289</p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    The documentation is now built with open source tools
	    (xsltproc and fop) that exists on most platforms. One
	    visible change is that the frames are removed.</p>
          <p>
	    Own Id: OTP-8201</p>
        </li>
        <li>
          <p>
	    For a failed test case, the tc_done event is supposed to
	    report info on the form {failed,Error}. Only Error was
	    reported, however, which has now been fixed.</p>
          <p>
	    Own Id: OTP-8235 Aux Id: seq-11414 </p>
        </li>
        <li>
          <p>
	    It is now possible to fail a test case from the
	    end_per_testcase/2 function, by returning {fail,Reason}.</p>
          <p>
	    Own Id: OTP-8284</p>
        </li>
        <li>
          <p>
	    It is now possible to fail a test case by having the
	    end_tc/3 framework function return {fail,Reason} for the
	    test case.</p>
          <p>
	    Own Id: OTP-8285</p>
        </li>
        <li>
          <p>
	    The test_server framework API (e.g. the end_tc/3
	    function) has been modified. See the test_server_ctrl
	    documentation for details.</p>
          <p>
	    Own Id: OTP-8286 Aux Id: OTP-8285, OTP-8287 </p>
        </li>
        <li>
          <p>
	    Various updates of the test events have been implemented.
	    The data field for some events, such as tc_done and
	    tc_auto_skip has been modified to make pattern matching
	    on the data easier and more consistent. Also the order in
	    which some events are received has been altered. E.g. the
	    tc_auto_skip event for a test case now comes after the
	    tc_done for the failed configuration function (not
	    before) which makes more sense. Note that no new events
	    have been added and that the event record remains
	    unchanged.</p>
          <p>
	    Own Id: OTP-8287 Aux Id: OTP-8235 </p>
        </li>
        <li>
          <p>
	    The marquee used for test names on the all_runs.html page
	    has been removed on request. Note that the test name
	    field has the full text string in a title tag, which is
	    displayed when hovering the mouse pointer over it (i.e.
	    if the web browser supports title tags).</p>
          <p>
	    Own Id: OTP-8288</p>
        </li>
        <li>
          <p>
	    It is now possible to refresh the top level index files
	    in an arbitrary log directory by specifying a
	    {refresh_logs,LogDir} tuple in the ct:run_test/1 options
	    list. Also the -refresh_logs flag for the run_test script
	    has been extended to take an optional LogDir argument,
	    i.e. -refresh_logs [LogDir]. If no LogDir is specified,
	    current working directory is assumed, unless the log
	    directory is set with the -logdir flag.</p>
          <p>
	    Own Id: OTP-8290</p>
        </li>
        <li>
          <p>
	    It was previously required that test suites were located
	    under a test object (or OTP application) sub-directory
	    named "test" (or under a directory named
	    "&lt;testobject&gt;_test"). This has been changed so that
	    Common Test now looks for suites primarily in a test
	    sub-directory only if the directory exists. Otherwise it
	    will assume the suites are stored in the same directory
	    the user specifies with e.g. the 'dir' start flag/option.</p>
          <p>
	    Own Id: OTP-8294</p>
        </li>
      </ul>
    
<h3><a name="id2262853">1.2 
        Common_Test 1.4.5</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
	    The Common Test logger process crashed if a test case in
	    a sequence (declared with sequences/0) failed. This fault
	    has been corrected.</p>
          <p>
	    Own Id: OTP-8089 Aux Id: seq11334 </p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Various updates and fixes in Common Test and Test Server.</p>
          <p>
	    Own Id: OTP-8045 Aux Id: OTP-8089,OTP-8105,OTP-8163 </p>
        </li>
        <li>
          <p>
	    Errors in coverage data collection and analysis were
	    difficult to detect. The logging has been improved so
	    that more information about e.g. imported and missing
	    modules is printed to the html log files.</p>
          <p>
	    Own Id: OTP-8163 Aux Id: seq11374 </p>
        </li>
        <li>
          <p>
	    The Common Test HTML overview pages have been improved.
	    It is now possible to see if a test case has been skipped
	    explicitly or because a configuration function has
	    failed. Also, the history page (all_runs.html) now has
	    scrolling text displaying the test names. The old format
	    (showing names as a truncated string) can still be
	    generated by means of the flag/option 'basic_html'.</p>
          <p>
	    Own Id: OTP-8177</p>
        </li>
      </ul>
    
<h3><a name="id2253006">1.3 
        Common_Test 1.4.2</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Various corrections and improvements of Common Test and
	    Test Server.</p>
          <p>
	    Own Id: OTP-7981</p>
        </li>
      </ul>
    
<h3><a name="id2253037">1.4 
        Common_Test 1.4.1</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Minor updates and corrections.</p>
          <p>
	    Own Id: OTP-7897</p>
        </li>
      </ul>
    
<h3><a name="id2259360">1.5 
        Common_Test 1.4</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    A support client module for SSH and SFTP, ct_ssh, has
	    been introduced in Common Test.</p>
          <p>
	    Own Id: OTP-7838</p>
        </li>
        <li>
          <p>
	    Test case groups have been introduced. With this feature
	    it's possible to execute groups (possibly nested) of test
	    cases, each group wrapped with a call to function
	    init_per_group/2 and end_per_group/2. Group definitions
	    are done by means of the new call-back function groups/0,
	    which should return a list of definitions. A group
	    definition contains a name tag, a list of properties and
	    a list of test cases (including possible nested group
	    definitions). The properties make it possible to execute
	    test cases in parallel, in sequence and in shuffled
	    order. It is also possible to repeat test cases according
	    to different criterias. The properties can be combined,
	    making it possible to e.g. repeat a conf case a certain
	    number of times and execute the test cases in different
	    (random) order every time. Available properties are:
	    parallel, sequence, shuffle, repeat, repeat_until_all_ok,
	    repeat_until_any_ok, repeat_until_any_fail and
	    repeat_until_all_fail. Please see the Common Test User's
	    Guide for details.</p>
          <p>
	    Own Id: OTP-7839 Aux Id: OTP-7511 </p>
        </li>
        <li>
          <p>
	    It is now possible to use DES3 encrypted configuration
	    files with Common Test.</p>
          <p>
	    Own Id: OTP-7842 Aux Id: OTP-7838 </p>
        </li>
        <li>
          <p>
	    In previous versions of Common Test, only one FTP
	    connection could be opened per configuration target name.
	    This has been updated so that multiple connections may be
	    opened. The possibility to use named connections is still
	    supported.</p>
          <p>
	    Own Id: OTP-7853 Aux Id: OTP-7838 </p>
        </li>
        <li>
          <p>
	    The Erlang mode for Emacs has been updated with new and
	    modified skeletons for Common Test and TS. Syntax for
	    test case groups in Common Test (and conf cases with
	    properties in TS) has been added and a new minimal Common
	    Test suite skeleton has been introduced.</p>
          <p>
	    Own Id: OTP-7856</p>
        </li>
      </ul>
    
<h3><a name="id2259464">1.6 
        Common_Test 1.3.6</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
            When running a test which includes all suites in a test
            directory, if the auto compilation would fail for one
            suite, all following suites would be excluded from the
            test. This was an unwanted behaviour and has been
            corrected. Now all suites will always be compiled and
            only the failing ones excluded from the test (and logged
            as missing).</p>
          <p>
            Own Id: OTP-7750 Aux Id: OTP-7803 </p>
        </li>
        <li>
          <p>
            The step functionality in Common Test (based on
            interaction with Debugger) was broken. This has been
            fixed, and some new step features have also been added.
            Please see the Common Test User's Guide for details.</p>
          <p>
            Own Id: OTP-7800 Aux Id: seq11106 </p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
            It is now possible for the user to specify include
            directories that Common Test will pass along to the
            compiler when suite and help modules are being compiled
            (which Common Test performs automatically before running
            tests).</p>
          <p>
            Own Id: OTP-7803 Aux Id: OTP-7750 </p>
        </li>
      </ul>
    
<h3><a name="id2257433">1.7 
        Common_Test 1.3.5</a></h3>
    <h4>Fixed Bugs and Malfunctions</h4>
      <ul>
        <li>
          <p>
            If the Erlang runtime system was started without access
            to an erlang shell (e.g. -noshell), compilation errors
            would cause a crash in the Common Test application.
            Without access to a shell, Common Test can not prompt the
            user to choose to continue or abort the test session, but
            must assume that the session should proceed.</p>
          <p>
            Own Id: OTP-7749 Aux Id: seq11175, seq11180 </p>
        </li>
      </ul>
    
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
            It is now possible for the Common Test user to disable
            the auto-compile feature. This is done by specifying the
            run_test flag -no_auto_compile, or the ct:run_test/1
            option {auto_compile,false}.</p>
          <p>
            Own Id: OTP-7663</p>
        </li>
        <li>
          <p>
            A new function, ct:get_config/3, has been added to Common
            Test that makes it possible to - if a particular config
            variable has been defined in multiple config files -
            return all matching values for the variable. The order of
            the elements in the returned list is the same as the
            specified order of the config files.</p>
          <p>
            Own Id: OTP-7758 Aux Id: seq11158 </p>
        </li>
        <li>
          <p>
            Because a telnet connection was always identified by a
            config variable alias, it was impossible to open multiple
            connections using the same telnet host data entry in the
            config file. This limitation has been removed by making
            it possible to associate a connection with handle value
            only (i.e. multiple connections may be opened using the
            same config variable). See ct_telnet:open/4 for details.</p>
          <p>
            Own Id: OTP-7781</p>
        </li>
        <li>
          <p>
            A new syntax for defining default config data values has
            been introduced. In previous versions of Common Test, to
            define and access a default value for a config variable
            (in the suite info- or test case info function), an alias
            name had to be used. With the new syntax you may define
            default values without reference to aliases, like this:
            {default_config,VarName,DefaultValue}. Please see the
            User's Guide for more info.</p>
          <p>
            Own Id: OTP-7782</p>
        </li>
        <li>
          <p>
            In previous versions of Common Test, whenever a config
            variable got associated with a name (by means of a
            require statement), the config variable name was replaced
            with the new name. This introduced unwanted dependencies
            between test cases (e.g. if one test case would introduce
            a new name, the following test cases could no longer
            access the config data by means of the original
            variable). This functionality has now been updated so
            that when new names are introduced with require, they
            become aliases (references) instead of replacements.
            Hence, config data elements can always, at any time, be
            accessed by means of the original config variable names.</p>
          <p>
            Own Id: OTP-7783</p>
        </li>
      </ul>
    
<h3><a name="id2251673">1.8 
        Common_Test 1.3.4</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Common Test now uses the re application instead of the
	    previous rx driver to perform regular expression matching
	    on telnet strings. Since re works on all supported
	    operating systems, it is now possible to run telnet
	    sessions also on platforms such as e.g. Windows (which
	    was not the case with the previous rx driver). Note that
	    the rx driver is obsolete from now on, and will be
	    removed from Common Test after OTP R12B.</p>
          <p>
	    Own Id: OTP-7528</p>
        </li>
      </ul>
    
<h3><a name="id2251711">1.9 
        Common_Test 1.3.3</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    Various updates and improvements, plus some minor bug
	    fixes, have been implemented in Common Test and Test
	    Server.</p>
          <p>
	    Own Id: OTP-7112</p>
        </li>
        <li>
          <p>
	    It is now possible, by means of the new function
	    ct:abort_current_testcase/1 or
	    test_server_ctrl:abort_current_testcase/1, to abort the
	    currently executing test case.</p>
          <p>
	    Own Id: OTP-7518 Aux Id: OTP-7112 </p>
        </li>
      </ul>
    
<h3><a name="id2251756">1.10 
        Common_Test 1.3.2</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    The configure test of the rx lib in Common Test was not
	    performed during the general OTP application
	    configuration phase. This made e.g. autoconf impossible.
	    This has been changed to correspond with the normal OTP
	    build procedure.</p>
          <p>
	    Own Id: OTP-7379</p>
        </li>
      </ul>
    
<h3><a name="id2251790">1.11 
        Common_Test 1.3.1</a></h3>
    <h4>Improvements and New Features</h4>
      <ul>
        <li>
          <p>
	    The rx library, included with common_test, failed to
	    build on on some architectures because the -fPIC compiler
	    option was missing.</p>
          <p>
	    Own Id: OTP-7111</p>
        </li>
      </ul>
    
  <h3><a name="id2252250">1.12 
        common_test 1.3.0</a></h3>
  
</div>
<div class="footer">
<hr>
<p>Copyright © 2003-2009 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-3045895-1";
urchinTracker();
</script> 
</body>
</html>
